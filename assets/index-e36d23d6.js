(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function he(e,t=50){const n="Your browser does not support HTML5 Canvas.",s="#FCF4F1",o="#444444",i=t/2,u=document.createElement("canvas"),a=t/5,r=u.getContext("2d"),c=t/25,y=t/25,g=4,v=`${o}66`;u.textContent=n,u.setAttribute("class","compass"),u.setAttribute("width",t),u.setAttribute("height",t),r.translate(i,i),r.strokeStyle=`${s}cc`,r.fillStyle=`${s}cc`,r.lineWidth=1;function b(){const d=a+a/2.5,m=4;r.save();for(let f=0;f<m;f++)r.lineWidth=2,r.rotate(Math.PI/(m/2)),r.beginPath(),r.moveTo(0,0),r.lineTo(d,0),r.closePath(),r.stroke();r.restore()}function w(){const d=a-a/3,m=a+a/3,f=8;r.save();for(let h=0;h<f;h++)h%2!=0&&(r.beginPath(),r.moveTo(d,0),r.lineTo(m,0),r.closePath(),r.stroke()),r.rotate(Math.PI/(f/2));r.restore()}function T(){const d=a-a/3,m=a,f=16;r.save();for(let h=0;h<f;h++)h%2!=0&&(r.beginPath(),r.moveTo(d,0),r.lineTo(m,0),r.closePath(),r.stroke()),r.rotate(Math.PI/(f/2));r.restore()}function L(){const d=a-a/2,m=a+a/2,f=a*2-a/4;r.save(),r.font=`${d}px Arial`,r.textAlign="center",r.textBaseline="bottom",r.fillText("N",0,-m),r.textBaseline="top",r.fillText("S",0,m),r.textBaseline="middle",r.fillText("E",f,0),r.fillText("W",-f,0),r.restore()}function O(){const d=a/4;r.save(),r.shadowOffsetX=c,r.shadowOffsetY=y,r.shadowBlur=g,r.shadowColor=v,r.beginPath(),r.lineWidth=d,r.arc(0,0,a,0,Math.PI*2,!0),r.closePath(),r.stroke(),r.lineWidth=.5,r.strokeStyle=o,r.stroke(),r.restore()}function p(){const d=a/2,m=a/2,f=a/4,h=s,x=o;r.save(),r.rotate(e*Math.PI/180),r.beginPath(),r.moveTo(0,-f),r.lineTo(-d,-m),r.lineTo(0,a),r.lineTo(d,-m),r.closePath(),r.fillStyle=h,r.fill(),r.strokeStyle=x,r.lineWidth=1,r.stroke(),r.restore()}return t>50&&(T(),w(),L(),b()),O(),p(),u}function ye(e,t=50){const n="#fcfcfc",s="#ececec",o=t/10*5.5,i=t/10,u=t*2/3,a=t/5,r=document.createElement("canvas"),c=r.getContext("2d"),y="Your browser does not support HTML5 canvas",g="Arial",v="#441414",b=(e-950)*.01;r.textContent=y,r.setAttribute("class","barometer"),r.setAttribute("width",t),r.setAttribute("height",t),c.strokeStyle=n,c.fillStyle=n,c.textAlign="center",c.baseline="bottom";function w(){return a+o+o*b*-1}function T(){const p=["body","hole"],d=i/3,m=i/3,f=4,h="#22222266";function x(){for(let E=0;E<p.length;E++){c.save();let $=i/2;p[E]==="body"&&(c.shadowOffsetX=d,c.shadowOffsetY=m,c.shadowBlur=f,c.shadowColor=h),p[E]==="hole"&&(c.fillStyle=s,$=$*.618),c.beginPath(),c.arc(u+i/2,a,$,0,Math.PI,!0),c.fill(),c.closePath(),c.restore()}}function _(){let E=i/1.38;const $=a+o+E/1.5;for(let C=0;C<p.length;C++)c.save(),p[C]==="body"&&(c.shadowOffsetX=d,c.shadowOffsetY=m,c.shadowBlur=f,c.shadowColor=h),p[C]==="hole"&&(c.fillStyle=v,E=E*.618),c.beginPath(),c.arc(u+i/2,$,E,0,Math.PI*2,!0),c.fill(),c.closePath(),c.restore()}function P(){for(let E=0;E<p.length;E++){let $=u,C=a,Q=i,pe=o;c.save(),p[E]==="body"&&(c.shadowOffsetX=d,c.shadowOffsetY=m,c.shadowBlur=f,c.shadowColor=h),p[E]==="hole"&&(c.fillStyle=s,Q=i/2,$=u+i/4),c.fillRect($,C,Q,pe),c.restore()}}function I(){c.save(),c.fillStyle=v,c.fillRect(u+i/3,a+o,i/4,o*b*-1),c.restore()}x(),_(),P(),I()}function L(){const p=i,d=w(),m=u-p/2;c.save(),c.beginPath(),c.moveTo(m,d),c.lineTo(m-p,d),c.stroke(),c.closePath(),c.restore()}function O(){const f=t/3,h=f,x=w(),_=x+14;let P=`${e}`;var I="mbar";c.save(),c.textBaseline="middle",t>50?(c.font=`12px ${g}`,c.fillText(P,f,x),c.font=`12px ${g}`,c.fillText(I,h,_)):(c.translate(t/2,t/2),c.rotate(-Math.PI/2),c.font=`12px ${g}`,c.fillText(P,0,-14/2)),c.restore()}return T(),L(),O(),r}function l(e,t,...n){const s=document.createElement(e);for(let o in t)s.setAttribute(o,t[o]);return n.forEach(o=>{typeof o=="string"?s.appendChild(document.createTextNode(o)):s.appendChild(o)}),s}function V(e){const t=new Date(e*1e3),n=t.getMinutes().toString().padStart(2,"0");let s,o="AM",i=t.getHours();return i>=12&&(o="PM"),i=i%12,i===0&&(i=12),s=`${i}:${n} ${o}`,s}function B(e,t,n){if(t===n)return e;switch(t){case"Kelvin":if(n==="Fahrenheit")return`${parseInt(e*9/5-459.67)}`;if(n==="Celsius")return`${parseInt(e-273.15)}`;case"Celsius":if(n==="Fahrenheit")return`${parseInt(e*9/5+32)}`;if(n==="Kelvin")return`${parseInt(e+273.15)}`;case"Fahrenheit":if(n==="Kelvin")return`${parseInt((e+459.67)*9/5)}`;if(n==="Celsius")return`${parseInt((e-32)*9/5)}`;break;default:return`${e}`}}function J(e,t="m/s",n="mph"){return(t="m/s")&&(n="mph")?`${Math.floor(e*2.237)} mph`:`${e} m/s`}function ge(e,t,n){const s={value:e,units:t};return(t="meters")&&(n="miles")&&(s.value=(e*621371e-9).toFixed(2),s.units=n),s}function Ee(e){return(e*100).toFixed(0)}function oe(e,t,n){const s={value:e,units:"mm"};return(n="inches")&&(s.value=(e*.0393701).toFixed(2),s.units=n),s}function ve(e){let t={value:"",class:""};return e<3&&(t.value="low",t.class="low"),e>=3&&e<6&&(t.value="moderate",t.class="moderate"),e>=6&&e<8&&(t.value="high",t.class="high"),e>=8&&e<11&&(t.value="very high",t.class="very-high"),e>=11&&(t.value="extreme",t.class="extreme"),t}const be="/weatherton/assets/raindrop-69b2cc51.svg";function we(e=[]){const t=l("button",{class:"notice-btn danger"},e[e.length-1].event),n=l("div",{class:"alert"},t),s=l("div",{class:"alert__container scrollbar"});return e.forEach(o=>{const i=M(o.end,{includesTime:!0}),u=M(o.start,{includesTime:!0}),a=l("span",{class:"txt-small"}," through "),r=l("div",{class:"alert__in-effect"},u,a,i),c=l("h5",{},o.sender_name),y=l("p",{},o.description),g=l("header",{class:"danger padding-box"},o.event),v=l("article",{},g,r,c,y);s.appendChild(v)}),n.appendChild(s),n}function Te(e){const t=l("span",{class:"label"},"cloudiness"),n=l("span",{class:"txt-semi-bold"},`${e}`);return l("p",{id:"cloudiness",class:"percent"},t,n)}function M(e,t={}){const{includesTime:n=!1,includesYear:s=!1,includesDay:o=!0}=t,i=e*1e3,u=new Date(i).getFullYear(),a=new Date(i).toDateString().split(" ")[0],r=new Date(i).toDateString().split(" ")[1],c=new Date(i).toDateString().split(" ")[2],y=new Date(e).getTime(),g=l("span",{class:"date-time__hour"},`${V(y)}`),v=l("span",{class:"date-time__year"},`${u}`),b=l("span",{class:"date-time__day-name"},a),w=l("span",{class:"date-time__day"},c);return l("time",{class:"date date-time",title:`${r} ${c}, ${u}`,datetime:`${r} ${c}, ${u}`},b,o?w:"",s?v:"",n?g:"")}function xe(e){const t=B(e,"Kelvin","Fahrenheit"),n=l("span",{class:"label"},"dew point"),s=l("span",{class:"txt-semi-bold"},`${t}`);return l("p",{id:"dew-point",class:"degree"},n,s)}function $e(e){const t=l("span",{class:"label"},"humidity"),n=l("span",{class:"txt-semi-bold"},`${e}`);return l("p",{id:"humidity",class:"droplet percent"},t,n)}function X(e,t=50){const n=ye(e,t);return l("div",{id:"pressure",class:"flex-center-all"},n)}function q(e){const t=l("img",{class:"raindroplet",src:be,alt:"",width:"16",height:"16"});return l("p",{id:"probability-precipitation",class:"txt-semi-bold percent"},t,`${Ee(e)}`)}function F(e,t=!0){let n=e,s;typeof e=="object"&&(n=e["1h"]),s=oe(n,"mm","inches");const o=l("span",{class:"label"},"rain"),i=l("span",{class:"units"},s.units),u=l("span",{class:"txt-semi-bold"},s.value);return l("p",{id:"rainfall",class:""},t?o:"",u,i)}function W(e,t=!0){let n=e,s;typeof e=="object"&&(n=e["1h"]),s=oe(n,"mm","inches");const o=l("span",{class:"label"},"snow"),i=l("span",{class:"units"},s.units),u=l("span",{class:"txt-semi-bold"},s.value);return l("p",{id:"snowfall",class:""},t?o:"",u,i)}function Le(e){const t=l("span",{class:"label"},"sunrise");return l("p",{class:"sunrise"},t,V(e))}function Pe(e){const t=l("span",{class:"label"},"sunset");return l("p",{class:"sunset"},t,V(e))}function re(e,t){const n="degree";function s(r){return`${B(r,"Kelvin","Fahrenheit")}`}const o=l("span",{class:"temperature__slash"},"/"),i=l("span",{class:`${n} feels-like`,title:`Feels like ${s(t)}`},`${s(t)}`),u=l("span",{class:`${n} actual`,title:`Actual temperature ${s(e)}`},`${s(e)}`);return l("p",{class:"temperature temperature__paragraph"},u,o,i)}function ie(e){const{temp:t,feels_like:n}=e;if(typeof t=="object"||typeof n=="object"){console.error("WeatherData objects are not allowed, use DailyTemperature() instead");return}return re(t,n)}function ce(e){const{temp:t,feels_like:n}=e;if(typeof t!="object"||typeof n!="object"){console.error("WeatherData objects are required, use createTemperatureElement() instead");return}const s=[{name:"morning",value:"morn"},{name:"day",value:"day"},{name:"evening",value:"eve"},{name:"night",value:"night"}],o=[];return s.forEach(u=>{const a=l("span",{class:"label"},u.name),r=l("p",{class:"daily-temp"},a,l("span",{},re(t[u.value],n[u.value])));o.push(r)}),l("div",{class:"temperature-list"},o[0],o[1],o[2],o[3])}function le(e){const t="degree",n=l("span",{class:"label"},"high/low"),s=l("span",{class:`${t} value temperature__min`},`/${B(e.min,"Kelvin","Fahrenheit")}`),o=l("span",{class:`${t} value`},`${B(e.max,"Kelvin","Fahrenheit")}`);return l("p",{class:"high-low"},n,o,s)}function R(e){const t=l("span",{class:"label"},"uv"),n=l("span",{class:"value"},`${e}`),s=l("p",{class:"uvi__index"},t,n),o=ve(e),i=l("span",{class:"label"},"UV risk"),u=l("span",{class:"value"},`${o.value}`),a=l("p",{class:`uvi__risk ${o.class}`},i,u);return l("div",{class:"uvi"},s,a)}function Ce(e){const t=ge(e,"meters","miles"),n=l("span",{class:"label"},"visibility"),s=l("span",{class:"value"},t.value),o=l("span",{class:"units"},t.units);return l("p",{class:"visibility"},n,s,o)}function j(e){return l("p",{class:"description description-text txt-center"},`${e}`)}function A(e,t="default"){const{icon:n,main:s,description:o}=e;let i="",u="50px";t==="large"&&(i="@2x",u="100px");let a=`https://openweathermap.org/img/wn/${n}${i}.png`;const r=`${s}: ${o}`;return l("div",{class:"icon-container",title:r},l("img",{class:"icon",src:a,alt:r,width:u,height:u}))}function K(e,t){const n=document.createElement("div"),s=document.createElement("p");return s.textContent=`${e}`,s.setAttribute("title",`${t}`),n.setAttribute("class","main"),n.appendChild(s),n}function N(e,t){const{wind_deg:n,wind_gust:s,wind_speed:o}=e,i=`${J(o,"m/s","mph")}`;let u="";s!=null&&(u=`, gusts to ${J(s,"m/s","mph")}`);const a=he(n,t),r=l("span",{},u),c=l("p",{class:"speed"},i,r);return l("div",{class:"wind"},a,c)}const Z={result:null,convertToOpacity(e){return this.result=(e/60).toFixed(2),this},invert(){return this.result=1-this.result,this}};function z(e){return e.getMinutes()}function Y(e){return 60-e}function ke(e,t){const n=Y(e),s=Y(t);return n-s}function U(e,t){const n=new Date(e);return n.setHours(n.getHours()-t),n}function Oe(e,t){const n=U(t,1);return e>n&&e<t}function _e(e,t){const n=U(t,1);return e>n&&e<t}function Ie(e,t,n){const s=U(n,1);return e>t&&e<s}function Me(e,t){return t?Z.convertToOpacity(e).invert().result:Z.convertToOpacity(e).result}function ee(e,t,n=!1){const s=z(e),o=z(t);let i=o+Y(s);return o>s&&(i=ke(s,o)),Me(i,n)}function k(e){return new Date(e*1e3)}function ae(e){const{dt:t,sunrise:n,sunset:s}=e,o=k(t),i=k(n),u=k(s);let a=0;return Ie(o,i,u)&&(a=1),Oe(o,i)&&(a=ee(i,o)),_e(o,u)&&(a=ee(u,o,!0)),a}function Se(e,t){const n=k(e.dt),s=k(t.current.sunrise),o=k(t.current.sunset);for(;s.getDate()<n.getDate();)s.setDate(s.getDate()+1),o.setDate(o.getDate()+1);return{dt:n.getTime()/1e3,sunrise:s.getTime()/1e3,sunset:o.getTime()/1e3}}const Be=document.querySelectorAll(".forecast-container");let S=!1,te,ne;for(const e of Be)e.addEventListener("mousedown",t=>{S=!0,e.classList.add("active"),te=t.pageX-e.offsetLeft,ne=e.scrollLeft}),e.addEventListener("mouseleave",()=>{S=!1,e.classList.remove("active")}),e.addEventListener("mouseup",()=>{S=!1,e.classList.remove("active")}),e.addEventListener("mousemove",t=>{if(!S)return;t.preventDefault();const s=(t.pageX-e.offsetLeft-te)*3;e.scrollLeft=ne-s});const Fe=document.getElementById("today-btn");Fe.addEventListener("click",G);const We=document.getElementById("hourly-btn");We.addEventListener("click",G);const Ae=document.getElementById("daily-btn");Ae.addEventListener("click",G);function G(e){const t=e.target,n=document.querySelectorAll(".display-feature"),s=document.querySelectorAll(".display-btn");function o(){s.forEach(i=>{i.name===t.name?t.classList.add("active"):i.classList.remove("active")})}n.forEach(i=>{i.id===t.name?(i.classList.add("display"),o()):i.classList.remove("display")})}const H=document.getElementById("scroll-left"),D=document.getElementById("scroll-right"),Ye=document.getElementById("forecast-feature__container");let ue;H.addEventListener("mousedown",de);D.addEventListener("mousedown",de);Ye.addEventListener("mouseup",e=>{clearInterval(ue),He()});function de(e){const t=document.querySelector(".display-feature.display > .forecast-container"),s=t.querySelector(".card").offsetWidth;function o(){e.target.id==="scroll-left"?t.scrollLeft-=s:t.scrollLeft+=s}o(),ue=setInterval(o,600)}function He(){const e=document.querySelector(".display-feature.display > .forecast-container");e.scrollLeft===0?H.classList.add("noscroll"):H.classList.remove("noscroll"),e.scrollLeft+e.clientWidth===e.scrollWidth?D.classList.add("noscroll"):D.classList.remove("noscroll")}let me="";const De="api.openweathermap.org/data/2.5",Ve="https://api.elliotreed.net/key/weatherton",Xe=document.documentElement,fe=document.getElementById("app-container");async function qe(){me=await je(),se(),setInterval(()=>{se()},10*60*1e3)}async function se(e){const t=await Ke();Qe(t)}function Re(){return new Promise(function(e,t){navigator.geolocation?navigator.geolocation.getCurrentPosition(e,t):fe.innerText="Geolocation is not supported by this browser"})}async function je(){return(await(await fetch(Ve)).json()).key}async function Ke(){const e=await Re(),t=Ne(e),n=Ue(t);return Ge(n)}function Ne(e){const t=e.coords.latitude,n=e.coords.longitude;return`lat=${t}&lon=${n}`}function Ue(e){return`${De}/onecall?${e}&appid=${me}`}function Ge(e){return fetch(`https://${e}`).then(n=>n.json()).then(n=>n).catch(n=>{fe.innerText=n.message})}function Qe(e){return Je(e.alerts),Ze(e.current),tt(e.daily[0]),ze(e),et(e.daily),Xe.style.setProperty("--dayBackgroundOpacity",ae(e.current)),!0}function Je(e){const t=`
    background:  #6ea0d2;
    color: #fcf4f1;
  `;if(!e){console.log("%c There are no weather alerts in this area.",t);return}const n=document.getElementById("alert"),s=we(e);n.innerHTML="",n.appendChild(s)}function Ze(e){const{clouds:t,dew_point:n,dt:s,humidity:o,rain:i,snow:u,sunrise:a,sunset:r,uvi:c,weather:y}=e,g=document.getElementById("current-weather__container");let v=y[0];const b=Te(t),w=M(s,{includesYear:!0,includesTime:!0}),T=j(v.description),L=xe(n),O=$e(o),p=A(v,"large"),d=X(e.pressure,76),m=F(i),f=W(u),h=Le(a),x=Pe(r),_=ie(e),P=Ce(e.visibility),I=N(e,76),E=R(c);g.innerHTML="",g.append(w,p,_,T,e.snow!=null?f:"",e.rain!=null?m:"",d,I,b,P,O,L,E,h,x)}function ze(e){const t=document.getElementById("hourly-weather__container"),n=e.hourly;t.innerHTML="",n.map(s=>{const o=s.weather[0],i=M(s.dt,{includesTime:!0,includesDay:!1}),u=q(s.pop),a=F(s.rain),r=W(s.snow),c=A(o),y=ie(s);K(o.main,o.description),j(o.description);const g=N(s);X(s.pressure);const v=R(s.uvi),b=l("div",{class:"card"},i,c,y,u,s.snow!=null?r:"",s.rain!=null?a:"",g,v),w=Se(s,e),T=ae(w),L=`linear-gradient(to top, rgb(110 160 210 / ${T}), rgb(160 193 224 / ${T}))`;b.style.background=L,t.appendChild(b)})}function et(e){const t=document.getElementById("daily-weather__container");t.innerHTML="",e.map(n=>{const s=n.weather[0],o=M(n.dt),i=le(n.temp),u=F(n.rain),a=W(n.snow),r=q(n.pop),c=ce(n);K(s.main,s.descriptions);const y=R(n.uvi),g=j(s.description),v=A(s),b=N(n);X(n.pressure,60);const w=l("div",{class:"card daily-forecast"},o,v,g,i,n.rain!=null?u:"",n.snow!=null?a:"",r,c,b,y);t.appendChild(w)})}function tt(e){const t=document.getElementById("today-weather__container"),n=e.weather[0],s=A(n),o=q(e.pop),i=F(e.rain),u=W(e.snow),a=ce(e),r=K(n.main,n.description),c=le(e.temp),y=l("div",{class:"card today-forecast"},s,c,r,o,e.rain!=null?i:"",e.snow!=null?u:"",a);t.innerHTML="",t.appendChild(y)}qe();function nt(){document.querySelector(".alert__container").classList.toggle("display")}function st(){const e=document.querySelector(".alert__container");e&&e.classList.remove("display")}document.addEventListener("click",e=>{if(e.target.classList.contains("notice-btn")){nt();return}st()});
