(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function $(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function P(e,t){const n=Object.keys(t);for(let o of n)e.setAttribute(o,t[o])}const _=1e3;function Le(e,t="default"){const n=_,o=_,s={x:n/2,y:o/2},r="#FCF4F1",a="#444444",l=_/4,u=l/4,p="0.5",y=a,d=String(_/40),c=String(_/40),E=$("svg");P(E,{viewBox:`0 0 ${n} ${o}`,preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg"});function T(){const f=$("defs"),g=$("filter");P(g,{id:"dropShadow"});const v=$("feDropShadow");return P(v,{dx:d,dy:c,stdDeviation:p,"flood-color":y,"flood-opacity":"0.25"}),g.appendChild(v),f.appendChild(g),f}function O(){const g=l/3,v=_/50,k=l+l/4,w=_/60,x=l-g,h=l-g,b=_/90,S=l/1.8,M=l-g;function A(B){let I=0,D=0,Y=0,X=r;return B%2!==0&&(I=b,D=S,Y=M,X=`${r}cc`),B%2===0&&(I=w,D=x,Y=h),B%4===0&&(I=v,D=k,Y=0),{width:I,height:D,yOffset:Y,fillColor:X}}const ae=$("g");for(let B=0;B<16;B++){const{width:I,height:D,yOffset:Y,fillColor:X}=A(B),ue=$("rect");P(ue,{x:String(s.x-I/2),y:String(s.y+Y),width:String(I),height:String(D),fill:X,rx:String(I),transform:`rotate(${B*90/4}, ${s.x}, ${s.y})`}),ae.appendChild(ue)}return ae}function F(){const f=$("g"),g=$("circle");P(g,{cx:String(s.x),cy:String(s.y),r:String(l),fill:"none",stroke:r,"stroke-width":String(u)});const v=$("circle");return P(v,{cx:String(s.x),cy:String(s.y),r:String(l),fill:"none",stroke:a,"stroke-width":String(u/4),opacity:"0.5"}),f.appendChild(g),f.appendChild(v),f}function W(){const f=_/7.5,g=a,v=f/75,k=r,w=[{label:"N",x:s.x,y:`${s.y-l-u-f/1.5}`},{label:"E",x:`${s.x-f/1.5-l-u}`,y:s.y},{label:"S",x:s.x,y:`${s.y+f/1+l+u}`},{label:"W",x:`${s.x+f/1.5+l+u} `,y:s.y}],x=$("g");for(let h of w){const b=$("text");P(b,{x:String(h.x),y:String(h.y),"font-family":"Arial","font-size":String(f),"text-anchor":"middle","dominant-baseline":"middle",fill:k,stroke:g,"stroke-width":String(v)}),b.textContent=h.label,x.appendChild(b)}return x}function H(){const f=u/4,g=l/1.75,v=l/1.75,k=l/3,w=r,x=a,h=`${s.x},${s.y+l}`,b=`${s.x-g},${s.y-v} `,S=`${s.x+g},${s.y-v} `,M=`${s.x},${s.y-k} `,A=$("polygon");return P(A,{points:`${h} ${S} ${M} ${b}`,fill:w,stroke:x,"stroke-width":String(f),transform:`rotate(${e}, ${s.x}, ${s.y})`,filter:"url(#dropShadow)"}),A}const V=H(),z=F(),m=T(),C=W(),L=O();return E.appendChild(m),t!=="small"&&(E.appendChild(L),E.appendChild(C)),E.appendChild(z),E.appendChild(V),E}function ke(e){const t="#fcfcfc",n="#ececec",o="Your browser does not support HTML5 canvas",s="Arial",r="#441414",a=(e-950)*.01;let l,u,p,y,d,c;function E(){d=document.createElement("canvas"),d.textContent=o,d.setAttribute("class","barometer"),c=d.getContext("2d")}function T(m){l=m/10*5.5,u=m/10,p=m*2/3,y=m/5}function O(){return y+l+l*a*-1}function F(){const m=["body","hole"],C=u/3,L=u/3,f=4,g="#22222266";function v(){for(let h=0;h<m.length;h++){c.save();let b=u/2;m[h]==="body"&&(c.shadowOffsetX=C,c.shadowOffsetY=L,c.shadowBlur=f,c.shadowColor=g),m[h]==="hole"&&(c.fillStyle=n,b=b*.618),c.beginPath(),c.arc(p+u/2,y,b,0,Math.PI,!0),c.fill(),c.closePath(),c.restore()}}function k(){let h=u/1.38;const b=y+l+h/1.5;for(let S=0;S<m.length;S++)c.save(),m[S]==="body"&&(c.shadowOffsetX=C,c.shadowOffsetY=L,c.shadowBlur=f,c.shadowColor=g),m[S]==="hole"&&(c.fillStyle=r,h=h*.618),c.beginPath(),c.arc(p+u/2,b,h,0,Math.PI*2,!0),c.fill(),c.closePath(),c.restore()}function w(){for(let h=0;h<m.length;h++){let b=p,S=y,M=u,A=l;c.save(),m[h]==="body"&&(c.shadowOffsetX=C,c.shadowOffsetY=L,c.shadowBlur=f,c.shadowColor=g),m[h]==="hole"&&(c.fillStyle=n,M=u/2,b=p+u/4),c.fillRect(b,S,M,A),c.restore()}}function x(){c.save(),c.fillStyle=r,c.fillRect(p+u/3,y+l,u/4,l*a*-1),c.restore()}v(),k(),w(),x()}function W(){const m=u,C=O(),L=p-m/2;c.save(),c.beginPath(),c.moveTo(L,C),c.lineTo(L-m,C),c.stroke(),c.closePath(),c.restore()}function H(){const f=d.height/3,g=f,v=O(),k=v+14;let w=`${e}`;var x="mbar";c.save(),c.textBaseline="middle",d.height>50?(c.font=`12px ${s}`,c.fillText(w,f,v),c.font=`12px ${s}`,c.fillText(x,g,k)):(c.translate(d.width/2,d.height/2),c.rotate(-Math.PI/2),c.font=`12px ${s}`,c.fillText(w,0,-14/2)),c.restore()}function V(){const m=d.parentElement;m&&(d.width=m.offsetHeight,d.height=m.offsetHeight,T(d.height),z())}function z(){c.strokeStyle=t,c.fillStyle=t,c.textAlign="center",c.baseline="bottom",F(),W(),H()}return E(),V(),d.resize=V,d}function i(e,t,...n){const o=document.createElement(e);for(let s in t)o.setAttribute(s,t[s]);return n.forEach(s=>{typeof s=="string"?o.appendChild(document.createTextNode(s)):o.appendChild(s)}),o}function ee(e){const t=new Date(e*1e3),n=t.getMinutes().toString().padStart(2,"0");let o,s="AM",r=t.getHours();return r>=12&&(s="PM"),r=r%12,r===0&&(r=12),o=`${r}:${n} ${s}`,o}function N(e,t,n){switch(t){case"Kelvin":return`${parseInt(e*9/5-459.67)}`;case"Celsius":return`${parseInt(e*9/5+32)}`;case"Fahrenheit":break;default:return`${e}`}}function de(e,t="m/s",n="mph"){return(t="m/s")&&(n="mph")?`${Math.floor(e*2.237)} mph`:`${e} m/s`}function Oe(e,t,n){const o={value:e,units:t};return(t="meters")&&(n="miles")&&(o.value=(e*621371e-9).toFixed(2),o.units=n),o}function _e(e){return(e*100).toFixed(0)}function ve(e,t,n){const o={value:e,units:"mm"};return(n="inches")&&(o.value=(e*.0393701).toFixed(2),o.units=n),o}function Me(e){let t={value:"",class:""};return e<3&&(t.value="low",t.class="low"),e>=3&&e<6&&(t.value="moderate",t.class="moderate"),e>=6&&e<8&&(t.value="high",t.class="high"),e>=8&&e<11&&(t.value="very high",t.class="very-high"),e>=11&&(t.value="extreme",t.class="extreme"),t}const Be="data:image/svg+xml,%3csvg%20class='raindrop'%20aria-labelledby='svg%20raindrop'%20focusable='false'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%20-5%2024%2024'%3e%3cstyle%3e%20.accent%20{%20fill:%20%23fcf4f1;%20animation:%20accent-animation%201.618s%20ease%20alternate%20infinite;%20}%20@keyframes%20accent-animation%20{%20100%25%20{%20fill:%20%236ea0d2;%20}%20}%20.droplet%20{%20fill:%23b7dcff;%20stroke:%20%23fcf4f1;%20stroke-width:%202px;%20animation:%20droplet-animation%201.618s%20ease%20alternate%20infinite;%20}%20@keyframes%20droplet-animation%20{%20100%25%20{%20fill:%20%23fcf4f1;%20}%20}%20%3c/style%3e%3c!--%20%3clink%20xmlns='http://www.w3.org/1999/xhtml'%20rel='stylesheet'%20href='../css/style.css'%20type='text/css'/%3e%20--%3e%3ctitle%3eraindrop%3c/title%3e%3cpath%20class='droplet'%20d='M12.17,10.12C12.38,13.49,10.3,16,8,16s-4.33-2.59-4.18-5.88S8,0,8,0,12,6.88,12.17,10.12Z'%20/%3e%3cpath%20class='accent'%20d='M4.67,11.13a7.58,7.58,0,0,0,1,2.62,3.47,3.47,0,0,0,2,1.25.47.47,0,0,0,.25-.91c-1.62-.41-1.88-1.8-2.26-3.22a.47.47,0,0,0-.91.26Z'%20style='fill:%23fcf4f1'/%3e%3c/svg%3e";function Ie(e=[]){const t=i("button",{class:"notice-btn danger"},e[e.length-1].event),n=i("div",{class:"alert"},t),o=i("div",{class:"alert__container scrollbar"});return e.forEach(s=>{const r=q(s.end,{includesTime:!0}),a=q(s.start,{includesTime:!0}),l=i("span",{class:"txt-small"}," through "),u=i("div",{class:"alert__in-effect"},a,l,r),p=i("h5",{},s.sender_name),y=i("p",{},s.description),d=i("header",{class:"danger padding-box"},s.event),c=i("article",{},d,u,p,y);o.appendChild(c)}),n.appendChild(o),n}function Pe(e){const t=i("span",{class:"label"},"cloudiness"),n=i("span",{class:"txt-semi-bold"},`${e}`);return i("p",{id:"cloudiness",class:"percent"},t,n)}function q(e,t={}){const{includesTime:n=!1,includesYear:o=!1,includesDay:s=!0}=t,r=e*1e3,a=new Date(r).getFullYear(),l=new Date(r).toDateString().split(" ")[0],u=new Date(r).toDateString().split(" ")[1],p=new Date(r).toDateString().split(" ")[2],y=new Date(e).getTime(),d=i("span",{class:"date-time__hour"},`${ee(y)}`),c=i("span",{class:"date-time__year"},`${a}`),E=i("span",{class:"date-time__day-name"},l),T=i("span",{class:"date-time__day"},p);return i("time",{class:"date date-time",title:`${u} ${p}, ${a}`,datetime:new Date(r).toISOString()},E,s?T:"",o?c:"",n?d:"")}function Fe(e){const t=N(e,"Kelvin"),n=i("span",{class:"label"},"dew point"),o=i("span",{class:"txt-semi-bold"},`${t}`);return i("p",{id:"dew-point",class:"degree"},n,o)}function We(e){const t=i("span",{class:"label"},"humidity"),n=i("span",{class:"txt-semi-bold"},`${e}`);return i("p",{id:"humidity",class:"droplet percent"},t,n)}function te(e){const t=ke(e),n=i("div",{class:"flex-center-all pressure"},t);return new ResizeObserver(()=>t.resize()).observe(n),n}function ne(e){const t=i("img",{class:"raindroplet",src:Be,alt:"",width:"16",height:"16"});return i("p",{class:"probability-precipitation txt-semi-bold percent"},t,`${_e(e)}`)}function G(e,t=!0){let n=e,o;typeof e=="object"&&(n=e["1h"]),o=ve(n,"mm","inches");const s=i("span",{class:"label"},"rain"),r=i("span",{class:"units"},o.units),a=i("span",{class:"txt-semi-bold"},o.value);return i("p",{class:"rainfall"},t?s:"",a,r)}function U(e,t=!0){let n=e,o;typeof e=="object"&&(n=e["1h"]),o=ve(n,"mm","inches");const s=i("span",{class:"label"},"snow"),r=i("span",{class:"units"},o.units),a=i("span",{class:"txt-semi-bold"},o.value);return i("p",{class:"snowfall"},t?s:"",a,r)}function He(e){const t=i("span",{class:"label"},"sunrise");return i("p",{class:"sunrise"},t,ee(e))}function Ve(e){const t=i("span",{class:"label"},"sunset");return i("p",{class:"sunset"},t,ee(e))}function Ee(e,t){const n="degree";function o(u){return`${N(u,"Kelvin")}`}const s=i("span",{class:"temperature__slash"},"/"),r=i("span",{class:`${n} feels-like`,title:`Feels like ${o(t)}`},`${o(t)}`),a=i("span",{class:`${n} actual`,title:`Actual temperature ${o(e)}`},`${o(e)}`);return i("p",{class:"temperature temperature__paragraph"},a,s,r)}function be(e,t){if(typeof e=="object"||typeof t=="object"){console.error("WeatherData objects are not allowed, use DailyTemperature() instead");return}return Ee(e,t)}function we(e){const{temp:t,feels_like:n}=e;if(typeof t!="object"||typeof n!="object"){console.error("WeatherData objects are required, use createTemperatureElement() instead");return}const o=[{name:"morning",value:"morn"},{name:"day",value:"day"},{name:"evening",value:"eve"},{name:"night",value:"night"}],s=[];return o.forEach(a=>{const l=i("span",{class:"label"},a.name),u=i("div",{class:"daily-temp"},l,i("div",{},Ee(t[a.value],n[a.value])));s.push(u)}),i("div",{class:"temperature-list"},s[0],s[1],s[2],s[3])}function xe(e){const t="degree",n=i("span",{class:"label"},"high/low"),o=i("span",{class:`${t} value temperature__min`},`/${N(e.min,"Kelvin")}`),s=i("span",{class:`${t} value`},`${N(e.max,"Kelvin")}`);return i("p",{class:"high-low"},n,s,o)}function se(e){const t=i("span",{class:"label"},"uv"),n=i("span",{class:"value"},`${e}`),o=i("p",{class:"uvi__index"},t,n),s=Me(e),r=i("span",{class:"label"},"UV risk"),a=i("span",{class:"value"},`${s.value}`),l=i("p",{class:`uvi__risk ${s.class}`},r,a);return i("div",{class:"uvi"},o,l)}function Ae(e){const t=Oe(e,"meters","miles"),n=i("span",{class:"label"},"visibility"),o=i("span",{class:"value"},t.value),s=i("span",{class:"units"},t.units);return i("p",{class:"visibility"},n,o,s)}function oe(e){return i("p",{class:"description description-text txt-center"},`${e}`)}function K(e,t="default"){const{icon:n,main:o,description:s}=e;let r="",a="50";t==="large"&&(r="@2x",a="100");let l=`https://openweathermap.org/img/wn/${n}${r}.png`;const u=`${o}: ${s}`;return i("div",{class:"icon-container",title:u},i("img",{class:"icon",src:l,alt:u,width:a,height:a}))}function re(e,t){const n=document.createElement("div"),o=document.createElement("p");return o.textContent=`${e}`,o.setAttribute("title",`${t}`),n.setAttribute("class","main"),n.appendChild(o),n}function ie(e,t,n,o="default"){const s=`${de(n,"m/s","mph")}`;let r="";t!=null&&(r=`, gusts to ${de(t,"m/s","mph")}`);const a=Le(e,o),l=i("span",{},r),u=i("p",{class:"speed"},s,l);return i("div",{class:"wind"},a,u)}const me={result:null,convertToOpacity(e){return this.result=(e/60).toFixed(2),this},invert(){return this.result=1-this.result,this}};function fe(e){return e.getMinutes()}function Z(e){return 60-e}function De(e,t){const n=Z(e),o=Z(t);return n-o}function ce(e,t){const n=new Date(e);return n.setHours(n.getHours()-t),n}function Ye(e,t){const n=ce(t,1);return e>n&&e<t}function Re(e,t){const n=ce(t,1);return e>n&&e<t}function ze(e,t,n){const o=ce(n,1);return e>t&&e<o}function qe(e,t){return t?me.convertToOpacity(e).invert().result:me.convertToOpacity(e).result}function pe(e,t,n=!1){const o=fe(e),s=fe(t);let r=s+Z(o);return s>o&&(r=De(o,s)),qe(r,n)}function R(e){return new Date(e*1e3)}function Se(e){const{dt:t,sunrise:n,sunset:o}=e,s=R(t),r=R(n),a=R(o);let l=0;return ze(s,r,a)&&(l=1),Ye(s,r)&&(l=pe(r,s)),Re(s,a)&&(l=pe(a,s,!0)),l}function Xe(e,t){const n=R(e.dt),o=R(t.current.sunrise),s=R(t.current.sunset);for(;o.getDate()<n.getDate();)o.setDate(o.getDate()+1),s.setDate(s.getDate()+1);return{dt:n.getTime()/1e3,sunrise:o.getTime()/1e3,sunset:s.getTime()/1e3}}const je=document.querySelectorAll(".forecast-container");let j=!1,he,ge;for(const e of je)e.addEventListener("mousedown",t=>{j=!0,e.classList.add("active"),he=t.pageX-e.offsetLeft,ge=e.scrollLeft}),e.addEventListener("mouseleave",()=>{j=!1,e.classList.remove("active")}),e.addEventListener("mouseup",()=>{j=!1,e.classList.remove("active")}),e.addEventListener("mousemove",t=>{if(!j)return;t.preventDefault();const o=(t.pageX-e.offsetLeft-he)*3;e.scrollLeft=ge-o});const Ne=document.getElementById("today-btn");Ne.addEventListener("click",le);const Ge=document.getElementById("hourly-btn");Ge.addEventListener("click",le);const Ue=document.getElementById("daily-btn");Ue.addEventListener("click",le);function le(e){const t=e.target,n=document.querySelectorAll(".display-feature"),o=document.querySelectorAll(".display-btn");function s(){o.forEach(r=>{r.name===t.name?t.classList.add("active"):r.classList.remove("active")})}n.forEach(r=>{r.id===t.name?(r.classList.add("display"),s()):r.classList.remove("display")})}const Q=document.getElementById("scroll-left"),J=document.getElementById("scroll-right"),Ke=document.getElementById("forecast-feature__container");let $e;Q.addEventListener("mousedown",Te);J.addEventListener("mousedown",Te);Ke.addEventListener("mouseup",e=>{clearInterval($e),Ze()});function Te(e){const t=document.querySelector(".display-feature.display > .forecast-container"),o=t.querySelector(".card").offsetWidth;function s(){e.target.id==="scroll-left"?t.scrollLeft-=o:t.scrollLeft+=o}s(),$e=setInterval(s,600)}function Ze(){const e=document.querySelector(".display-feature.display > .forecast-container");e.scrollLeft===0?Q.classList.add("noscroll"):Q.classList.remove("noscroll"),e.scrollLeft+e.clientWidth===e.scrollWidth?J.classList.add("noscroll"):J.classList.remove("noscroll")}const Qe="https://api.elliotreed.net/weatherton",Je=document.documentElement,Ce=document.getElementById("app-container");async function et(){ye(),setInterval(()=>{getCurrentWeather(),ye()},10*60*1e3)}async function ye(){const e=await nt();it(e)}function tt(){return new Promise(function(e,t){navigator.geolocation?navigator.geolocation.getCurrentPosition(e,t):Ce.innerText="Geolocation is not supported by this browser"})}async function nt(){const e=await tt(),t=st(e),n=ot(t);return rt(n)}function st(e){const t=e.coords.latitude,n=e.coords.longitude;return`lat=${t}&lon=${n}`}function ot(e){return`${Qe}/?${e}`}function rt(e){return fetch(e).then(n=>n.json()).then(n=>n).catch(n=>{Ce.innerText=n.message})}function it(e){return ct(e.alerts),lt(e.current),dt(e.daily[0]),at(e),ut(e.daily),Je.style.setProperty("--dayBackgroundOpacity",Se({dt:e.current.dt,sunrise:e.current.sunrise,sunset:e.current.sunset})),!0}function ct(e){const t=`
    background:  #6ea0d2;
    color: #fcf4f1;
  `;if(!e){console.log("%c There are no weather alerts in this area.",t);return}const n=document.getElementById("alert"),o=Ie(e);n.innerHTML="",n.appendChild(o)}function lt(e){const{clouds:t,dew_point:n,dt:o,feels_like:s,humidity:r,pressure:a,rain:l,snow:u,sunrise:p,sunset:y,temp:d,uvi:c,visibility:E,weather:T,wind_deg:O,wind_speed:F}=e,W=document.getElementById("current-weather__container");let H=T[0];const V=Pe(t),z=q(o,{includesYear:!0,includesTime:!0}),m=oe(H.description),C=Fe(n),L=We(r),f=K(H,"large"),g=te(a),v=G(l),k=U(u),w=He(p),x=Ve(y),h=be(d,s),b=Ae(E),S=ie(O,null,F,76),M=se(c);W.innerHTML="",W.append(z,f,h,m,e.snow!=null?k:"",e.rain!=null?v:"",g,S,V,b,L,C,M,w,x)}function at(e){const t=document.getElementById("hourly-weather__container"),n=e.hourly;t.innerHTML="",n.map(o=>{const s=o.weather[0],r=q(o.dt,{includesTime:!0,includesDay:!1}),a=ne(o.pop),l=G(o.rain),u=U(o.snow),p=K(s),y=be(o.temp,o.feels_like);re(s.main,s.description),oe(s.description);const d=ie(o.wind_deg,o.wind_speed,o.wind_gust,"small");te(o.pressure);const c=se(o.uvi),E=i("div",{class:"card"},r,p,y,a,o.snow!=null?u:"",o.rain!=null?l:"",d,c),T=Xe(o,e),O=Se(T),F=`linear-gradient(to top, rgb(110 160 210 / ${O}), rgb(160 193 224 / ${O}))`;E.style.background=F,t.appendChild(E)})}function ut(e){const t=document.getElementById("daily-weather__container");t.innerHTML="",e.map(n=>{const o=n.weather[0],s=q(n.dt),r=xe(n.temp),a=G(n.rain),l=U(n.snow),u=ne(n.pop),p=we(n);re(o.main,o.descriptions);const y=se(n.uvi),d=oe(o.description),c=K(o),E=ie(n.wind_deg,n.wind_gust,n.wind_speed,"small");te(n.pressure);const T=i("div",{class:"card daily-forecast"},s,c,d,r,n.rain!=null?a:"",n.snow!=null?l:"",u,p,E,y);t.appendChild(T)})}function dt(e){const t=document.getElementById("today-weather__container"),n=e.weather[0],o=K(n),s=ne(e.pop),r=G(e.rain),a=U(e.snow),l=we(e),u=re(n.main,n.description),p=xe(e.temp),y=i("div",{class:"card today-forecast"},o,p,u,s,e.rain!=null?r:"",e.snow!=null?a:"",l);t.innerHTML="",t.appendChild(y)}et();function mt(){document.querySelector(".alert__container").classList.toggle("display")}function ft(){const e=document.querySelector(".alert__container");e&&e.classList.remove("display")}document.addEventListener("click",e=>{if(e.target.classList.contains("notice-btn")){mt();return}ft()});
