(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function ue(e,t=50){const n="Your browser does not support HTML5 Canvas.",o="#FCF4F1",r="#444444",l=t/2,u=document.createElement("canvas"),d=t/5,s=u.getContext("2d"),i=t/25,p=t/25,h=4,y=`${r}66`;u.textContent=n,u.setAttribute("class","compass"),u.setAttribute("width",t),u.setAttribute("height",t),s.translate(l,l),s.strokeStyle=`${o}cc`,s.fillStyle=`${o}cc`,s.lineWidth=1;function $(){const a=d+d/2.5,f=4;s.save();for(let m=0;m<f;m++)s.lineWidth=2,s.rotate(Math.PI/(f/2)),s.beginPath(),s.moveTo(0,0),s.lineTo(a,0),s.closePath(),s.stroke();s.restore()}function v(){const a=d-d/3,f=d+d/3,m=8;s.save();for(let g=0;g<m;g++)g%2!=0&&(s.beginPath(),s.moveTo(a,0),s.lineTo(f,0),s.closePath(),s.stroke()),s.rotate(Math.PI/(m/2));s.restore()}function k(){const a=d-d/3,f=d,m=16;s.save();for(let g=0;g<m;g++)g%2!=0&&(s.beginPath(),s.moveTo(a,0),s.lineTo(f,0),s.closePath(),s.stroke()),s.rotate(Math.PI/(m/2));s.restore()}function S(){const a=d-d/2,f=d+d/2,m=d*2-d/4;s.save(),s.font=`${a}px Arial`,s.textAlign="center",s.textBaseline="bottom",s.fillText("N",0,-f),s.textBaseline="top",s.fillText("S",0,f),s.textBaseline="middle",s.fillText("E",m,0),s.fillText("W",-m,0),s.restore()}function x(){const a=d/4;s.save(),s.shadowOffsetX=i,s.shadowOffsetY=p,s.shadowBlur=h,s.shadowColor=y,s.beginPath(),s.lineWidth=a,s.arc(0,0,d,0,Math.PI*2,!0),s.closePath(),s.stroke(),s.lineWidth=.5,s.strokeStyle=r,s.stroke(),s.restore()}function E(){const a=d/2,f=d/2,m=d/4,g=o,w=r;s.save(),s.rotate(e*Math.PI/180),s.beginPath(),s.moveTo(0,-m),s.lineTo(-a,-f),s.lineTo(0,d),s.lineTo(a,-f),s.closePath(),s.fillStyle=g,s.fill(),s.strokeStyle=w,s.lineWidth=1,s.stroke(),s.restore()}return t>50&&(k(),v(),S(),$()),x(),E(),u}function de(e,t=50){const n="#fcfcfc",o="#ececec",r=t/10*5.5,l=t/10,u=t*2/3,d=t/5,s=document.createElement("canvas"),i=s.getContext("2d"),p="Your browser does not support HTML5 canvas",h="Arial",y="#441414",$=(e-950)*.01;s.textContent=p,s.setAttribute("class","barometer"),s.setAttribute("width",t),s.setAttribute("height",t),i.strokeStyle=n,i.fillStyle=n,i.textAlign="center",i.baseline="bottom";function v(){return d+r+r*$*-1}function k(){const E=["body","hole"],a=l/3,f=l/3,m=4,g="#22222266";function w(){for(let b=0;b<E.length;b++){i.save();let P=l/2;E[b]==="body"&&(i.shadowOffsetX=a,i.shadowOffsetY=f,i.shadowBlur=m,i.shadowColor=g),E[b]==="hole"&&(i.fillStyle=o,P=P*.618),i.beginPath(),i.arc(u+l/2,d,P,0,Math.PI,!0),i.fill(),i.closePath(),i.restore()}}function _(){let b=l/1.38;const P=d+r+b/1.5;for(let L=0;L<E.length;L++)i.save(),E[L]==="body"&&(i.shadowOffsetX=a,i.shadowOffsetY=f,i.shadowBlur=m,i.shadowColor=g),E[L]==="hole"&&(i.fillStyle=y,b=b*.618),i.beginPath(),i.arc(u+l/2,P,b,0,Math.PI*2,!0),i.fill(),i.closePath(),i.restore()}function I(){for(let b=0;b<E.length;b++){let P=u,L=d,A=l,T=r;i.save(),E[b]==="body"&&(i.shadowOffsetX=a,i.shadowOffsetY=f,i.shadowBlur=m,i.shadowColor=g),E[b]==="hole"&&(i.fillStyle=o,A=l/2,P=u+l/4),i.fillRect(P,L,A,T),i.restore()}}function O(){i.save(),i.fillStyle=y,i.fillRect(u+l/3,d+r,l/4,r*$*-1),i.restore()}w(),_(),I(),O()}function S(){const E=l,a=v(),f=u-E/2;i.save(),i.beginPath(),i.moveTo(f,a),i.lineTo(f-E,a),i.stroke(),i.closePath(),i.restore()}function x(){const m=t/3,g=m,w=v(),_=w+14;let I=`${e}`;var O="mbar";i.save(),i.textBaseline="middle",t>50?(i.font=`${12}px ${h}`,i.fillText(I,m,w),i.font=`${12}px ${h}`,i.fillText(O,g,_)):(i.translate(t/2,t/2),i.rotate(-Math.PI/2),i.font=`${12}px ${h}`,i.fillText(I,0,-14/2)),i.restore()}return k(),S(),x(),s}function me(e,t=100){const n="Your browser does not support HTML5 Canvas.",{sunrise:o,sunset:r,dt:l}=e,u=new Date(o*1e3);u.getHours(),u.getMinutes();const d=new Date(r*1e3);d.getHours(),d.getMinutes();const s=new Date("March 1, 2021 7:00:00"),i=s.getHours(),p=s.getMinutes(),h="#FCF4F1",y="#444444",$="#EC6E4C",v=document.createElement("canvas"),k=t*1.5,S=t,x=S/2.5,E=x/18,a=v.getContext("2d");let f=t/10;v.textContent=n,v.setAttribute("class","sunrise-sunset__canvas"),v.setAttribute("width",k),v.setAttribute("height",S),a.translate(k/2,S*.66),a.strokeStyle=`${h}66`,a.fillStyle=`${h}cc`,a.lineWidth=1,a.font=`${t*.15}px quicksand`,a.textBaseline="middle",a.textAlign="center";function m(){const T=t/60,B=t/60,M=5,F=`${y}66`;a.shadowOffsetX=T,a.shadowOffsetY=B,a.shadowBlur=M,a.shadowColor=F}function g(T){const B=T.getMinutes().toString().padStart(2,"0");let M,F="AM",C=T.getHours();return C>=12&&(F="PM"),C=C%12,C===0&&(C=12),M=`${C}:${B} ${F}`,M}function w(T,B,M=!0){const C=Math.PI*2/24,ae=C/60,Z=C*6+C*T+ae*B;M?a.rotate(Z):a.rotate(-Z)}function _(T=!1,B=h){let M=Math.PI*2;a.save(),a.beginPath(),T&&(M=Math.PI),a.arc(0,0,f,0,M,!0),a.fillStyle=B,a.fill(),a.restore()}function I(T){a.save(),a.beginPath(),a.fillStyle=h,a.fillText(T,0,f*1.3),a.restore()}function O(){const T=Math.PI;a.save(),a.beginPath(),a.lineWidth=E,w(6,0),a.ellipse(0,0,x,x*.618,0,0,T),a.stroke(),a.restore()}function b(){var T=x,B=x*.618,M=x*.32,F=B*Math.sin(Math.acos(M/T));let C=y;s>u&&s<d&&(C=$),a.save(),w(i,p),a.translate(F,0),w(i,p,!1),m(),_(!1,C),a.restore()}function P(){a.save(),w(6,0),a.translate(x,0),w(6,0,!1),a.save(),m(),_(!0,$),a.restore(),I(`${g(u)}`),a.restore()}function L(){a.save(),w(18,0),a.translate(x,0),w(18,0,!1),a.save(),m(),_(!0,y),a.restore(),I(`${g(d)}`),a.restore()}function A(){a.save(),O(),b(),P(),L(),a.restore()}return A(),v}function c(e,t,...n){const o=document.createElement(e);for(let r in t)o.setAttribute(r,t[r]);return n.forEach(r=>{typeof r=="string"?o.appendChild(document.createTextNode(r)):o.appendChild(r)}),o}function D(e){const t=new Date(e*1e3),n=t.getMinutes().toString().padStart(2,"0");let o,r="AM",l=t.getHours();return l>=12&&(r="PM"),l=l%12,l===0&&(l=12),o=`${l}:${n} ${r}`,o}function Y(e,t,n){if(t===n)return e;switch(t){case"Kelvin":if(n==="Fahrenheit")return`${parseInt(e*9/5-459.67)}`;if(n==="Celsius")return`${parseInt(e-273.15)}`;case"Celsius":if(n==="Fahrenheit")return`${parseInt(e*9/5+32)}`;if(n==="Kelvin")return`${parseInt(e+273.15)}`;case"Fahrenheit":if(n==="Kelvin")return`${parseInt((e+459.67)*9/5)}`;if(n==="Celsius")return`${parseInt((e-32)*9/5)}`;break;default:return`${e}`}}function z(e,t="m/s",n="mph"){return(t="m/s")&&(n="mph")?`${Math.floor(e*2.237)} mph`:`${e} m/s`}function fe(e,t,n){const o={value:e,units:t};return(t="meters")&&(n="miles")&&(o.value=(e*621371e-9).toFixed(2),o.units=n),o}function pe(e){return(e*100).toFixed(0)}function te(e,t,n){const o={value:e,units:"mm"};return(n="inches")&&(o.value=(e*.0393701).toFixed(2),o.units=n),o}function he(e,t){const{dt:n,sunrise:o,sunset:r}=t;let l="night";const u=new Date,d=new Date(n*1e3),s=new Date(o*1e3),i=new Date(r*1e3);if(e)u>s&&u<i&&(l="day");else{const p=d.getHours();p>=8&&p<=20&&(l="day")}return l}function ge(e){let t={value:"",class:""};return e<3&&(t.value="low",t.class="low"),e>=3&&e<6&&(t.value="moderate",t.class="moderate"),e>=6&&e<8&&(t.value="high",t.class="high"),e>=8&&e<11&&(t.value="very high",t.class="very-high"),e>=11&&(t.value="extreme",t.class="extreme"),t}function ye(e=[]){const t=c("button",{class:"notice-btn danger"},e[e.length-1].event),n=c("div",{class:"alert"},t),o=c("div",{class:"alert__container"});return e.forEach(r=>{console.log(r);const l=W(r.end,{includesTime:!0}),u=W(r.start,{includesTime:!0}),d=c("span",{class:"txt-small"}," through "),s=c("div",{class:"alert__in-effect"},u,d,l),i=c("h5",{},r.sender_name),p=c("p",{},r.description),h=c("header",{class:"danger padding-box"},r.event),y=c("article",{},h,s,i,p);o.appendChild(y)}),n.appendChild(o),n}function Ee(e){const t=c("span",{class:"label"},"cloudiness"),n=c("span",{class:"txt-semi-bold"},`${e}`);return c("p",{id:"cloudiness",class:"percent"},t,n)}function W(e,t={}){const{includesTime:n=!1,includesYear:o=!1,includesDay:r=!0}=t,l=e*1e3,u=new Date(l).getFullYear(),d=new Date(l).toDateString().split(" ")[0],s=new Date(l).toDateString().split(" ")[1],i=new Date(l).toDateString().split(" ")[2],p=new Date(e).getTime(),h=c("span",{class:"date-time__hour"},`${D(p)}`),y=c("span",{class:"date-time__year"},`${u}`),$=c("span",{class:"date-time__day-name"},d),v=c("span",{class:"date-time__day"},i);return c("time",{class:"date date-time",title:`${s} ${i}, ${u}`,datetime:`${s} ${i}, ${u}`},$,r?v:"",o?y:"",n?h:"")}function ve(e){const t=Y(e,"Kelvin","Fahrenheit"),n=c("span",{class:"label"},"dew point"),o=c("span",{class:"txt-semi-bold"},`${t}`);return c("p",{id:"dew-point",class:"degree"},n,o)}function be(e){const t=c("span",{class:"label"},"humidity"),n=c("span",{class:"txt-semi-bold"},`${e}`);return c("p",{id:"humidity",class:"droplet percent"},t,n)}function R(e,t=50){const n=de(e,t);return c("div",{id:"pressure",class:"flex-center-all"},n)}function j(e){const t=c("img",{class:"raindroplet",src:"images/raindrop.svg",width:"16",height:"16"});return c("p",{id:"probability-precipitation",class:"txt-semi-bold percent"},t,`${pe(e)}`)}function H(e,t=!0){let n=e,o;typeof e=="object"&&(n=e["1h"]),o=te(n,"mm","inches");const r=c("span",{class:"label"},"rain"),l=c("span",{class:"units"},o.units),u=c("span",{class:"txt-semi-bold"},o.value);return c("p",{id:"rainfall",class:""},t?r:"",u,l)}function V(e,t=!0){let n=e,o;typeof e=="object"&&(n=e["1h"]),o=te(n,"mm","inches");const r=c("span",{class:"label"},"snow"),l=c("span",{class:"units"},o.units),u=c("span",{class:"txt-semi-bold"},o.value);return c("p",{id:"snowfall",class:""},t?r:"",u,l)}function we(e,t){return me(e,t)}function Te(e){const t=c("span",{class:"label"},"sunrise");return c("p",{class:"sunrise"},t,D(e))}function xe(e){const t=c("span",{class:"label"},"sunset");return c("p",{class:"sunset"},t,D(e))}function ne(e,t){const n="degree";function o(s){return`${Y(s,"Kelvin","Fahrenheit")}`}const r=c("span",{class:"temperature__slash"},"/"),l=c("span",{class:`${n} feels-like`,title:`Feels like ${o(t)}`},`${o(t)}`),u=c("span",{class:`${n} actual`,title:`Actual temperature ${o(e)}`},`${o(e)}`);return c("p",{class:"temperature temperature__paragraph"},u,r,l)}function se(e){const{temp:t,feels_like:n}=e;if(typeof t=="object"||typeof n=="object"){console.error("WeatherData objects are not allowed, use DailyTemperature() instead");return}return ne(t,n)}function oe(e){const{temp:t,feels_like:n}=e;if(typeof t!="object"||typeof n!="object"){console.error("WeatherData objects are required, use createTemperatureElement() instead");return}const o=[{name:"morning",value:"morn"},{name:"day",value:"day"},{name:"evening",value:"eve"},{name:"night",value:"night"}],r=[];return o.forEach(u=>{const d=c("span",{class:"label"},u.name),s=c("p",{class:"daily-temp"},d,c("span",{},ne(t[u.value],n[u.value])));r.push(s)}),c("div",{class:"temperature-list"},r[0],r[1],r[2],r[3])}function re(e){const t="degree",n=c("span",{class:"label"},"high/low"),o=c("span",{class:`${t} value temperature__min`},`/${Y(e.min,"Kelvin","Fahrenheit")}`),r=c("span",{class:`${t} value`},`${Y(e.max,"Kelvin","Fahrenheit")}`);return c("p",{class:"high-low"},n,r,o)}function K(e){const t=c("span",{class:"label"},"uv"),n=c("span",{class:"value"},`${e}`),o=c("p",{class:"uvi__index"},t,n),r=ge(e),l=c("span",{class:"label"},"UV risk"),u=c("span",{class:"value"},`${r.value}`),d=c("p",{class:`uvi__risk ${r.class}`},l,u);return c("div",{class:"uvi"},o,d)}function $e(e){const t=fe(e,"meters","miles"),n=c("span",{class:"label"},"visibility"),o=c("span",{class:"value"},t.value),r=c("span",{class:"units"},t.units);return c("p",{class:"visibility"},n,o,r)}function U(e){return c("p",{class:"description description-text txt-center"},`${e}`)}function N(e,t="default"){const{icon:n,main:o,description:r}=e;let l="",u="50px";t==="large"&&(l="@2x",u="100px");let d=`https://openweathermap.org/img/wn/${n}${l}.png`;const s=`${o}: ${r}`;return c("div",{class:"icon-container",title:s},c("img",{class:"icon",src:d,alt:s,width:u,height:u}))}function G(e,t){const n=document.createElement("div"),o=document.createElement("p");return o.textContent=`${e}`,o.setAttribute("title",`${t}`),n.setAttribute("class","main"),n.appendChild(o),n}function Q(e,t){const{wind_deg:n,wind_gust:o,wind_speed:r}=e,l=`${z(r,"m/s","mph")}`;let u="";o!=null&&(u=`, gusts to ${z(o,"m/s","mph")}`);const d=ue(n,t),s=c("span",{},u),i=c("p",{class:"speed"},l,s);return c("div",{class:"wind"},d,i)}const Ce=document.getElementById("today-btn");Ce.addEventListener("click",J);const Pe=document.getElementById("hourly-btn");Pe.addEventListener("click",J);const Me=document.getElementById("daily-btn");Me.addEventListener("click",J);function J(e){const t=e.target,n=document.querySelectorAll(".display-feature"),o=document.querySelectorAll(".display-btn");function r(){o.forEach(l=>{l.name===t.name?t.classList.add("active"):l.classList.remove("active")})}n.forEach(l=>{l.id===t.name?(l.classList.add("display"),r()):l.classList.remove("display")})}const X=document.getElementById("scroll-left"),q=document.getElementById("scroll-right"),Le=document.getElementById("forecast-feature__container");let ie;X.addEventListener("mousedown",le);q.addEventListener("mousedown",le);Le.addEventListener("mouseup",e=>{clearInterval(ie),ke()});function le(e){const t=document.querySelector(".display-feature.display > .forecast-container"),o=t.querySelector(".card").offsetWidth;function r(){e.target.id==="scroll-left"?t.scrollLeft-=o:t.scrollLeft+=o}r(),ie=setInterval(r,600)}function ke(){const e=document.querySelector(".display-feature.display > .forecast-container");e.scrollLeft===0?X.classList.add("noscroll"):X.classList.remove("noscroll"),e.scrollLeft+e.clientWidth===e.scrollWidth?q.classList.add("noscroll"):q.classList.remove("noscroll")}const Se="6cf9b9c5b948a69676088ed828c5535d",_e="api.openweathermap.org/data/2.5",ce=document.getElementById("app-container");function Ie(){ee(),setInterval(()=>{ee()},10*60*1e3)}async function ee(){const e=await Oe();Ye(e)}function Be(){return new Promise(function(e,t){navigator.geolocation?navigator.geolocation.getCurrentPosition(e,t):ce.innerText="Geolocation is not supported by this browser"})}async function Oe(){const e=await Be(),t=Fe(e),n=We(t);return Ae(n)}function Fe(e){const t=e.coords.latitude,n=e.coords.longitude;return`lat=${t}&lon=${n}`}function We(e){return`${_e}/onecall?${e}&appid=${Se}`}function Ae(e){return fetch(`https://${e}`).then(n=>n.json()).then(n=>n).catch(n=>{ce.innerText=n.message})}function Ye(e){He(e.alerts),Ve(e.current),qe(e.daily[0]),Ne(e.hourly),Xe(e.daily)}function He(e){if(!e){console.warn("There are no weather alerts in this area.");return}const t=document.getElementById("alert"),n=ye(e);t.innerHTML="",t.appendChild(n)}function Ve(e){const{clouds:t,dew_point:n,dt:o,humidity:r,rain:l,snow:u,sunrise:d,sunset:s,uvi:i,weather:p}=e,h=document.getElementById("body"),y=document.getElementById("current-weather__container"),$=he(!0,e);let v=p[0];const k=Ee(t),S=W(o,{includesYear:!0,includesTime:!0}),x=U(v.description),E=ve(n),a=be(r),f=N(v,"large"),m=R(e.pressure,76),g=H(l),w=V(u);we(e,100);const _=Te(d),I=xe(s),O=se(e),b=$e(e.visibility),P=Q(e,76),L=K(i);h.setAttribute("class",$),y.innerHTML="",y.append(S,f,O,x,e.snow!=null?w:"",e.rain!=null?g:"",m,P,k,b,a,E,L,_,I)}function Ne(e){const t=document.getElementById("hourly-weather__container");t.innerHTML="",e.map(n=>{const o=n.weather[0],r=W(n.dt,{includesTime:!0,includesDay:!1}),l=j(n.pop),u=H(n.rain),d=V(n.snow),s=N(o),i=se(n);G(o.main,o.description),U(o.description);const p=Q(n);R(n.pressure);const h=K(n.uvi),y=c("div",{class:"card"},r,s,i,l,n.snow!=null?d:"",n.rain!=null?u:"",p,h);t.appendChild(y)})}function Xe(e){const t=document.getElementById("daily-weather__container");t.innerHTML="",e.map(n=>{const o=n.weather[0],r=W(n.dt),l=re(n.temp),u=H(n.rain),d=V(n.snow),s=j(n.pop),i=oe(n);G(o.main,o.descriptions);const p=K(n.uvi),h=U(o.description),y=N(o),$=Q(n);R(n.pressure,60);const v=c("div",{class:"card daily-forecast"},r,y,h,l,n.rain!=null?u:"",n.snow!=null?d:"",s,i,$,p);t.appendChild(v)})}function qe(e){const t=document.getElementById("today-weather__container"),n=e.weather[0],o=N(n),r=j(e.pop),l=H(e.rain),u=V(e.snow),d=oe(e),s=G(n.main,n.description),i=re(e.temp),p=c("div",{class:"card today-forecast"},o,i,s,r,e.rain!=null?l:"",e.snow!=null?u:"",d);t.innerHTML="",t.appendChild(p)}Ie();function De(){document.querySelector(".alert__container").classList.toggle("display")}function Re(){const e=document.querySelector(".alert__container");e&&e.classList.remove("display")}document.addEventListener("click",e=>{if(e.target.classList.contains("notice-btn")){De();return}Re()});
