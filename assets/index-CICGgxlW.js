(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function ye(e){const t="Your browser does not support HTML5 Canvas.",n="#FCF4F1",s="#444444",i=`${s}66`;let u,o,a,f,g;function m(){u=document.createElement("canvas"),u.textContent=t,u.setAttribute("class","compass"),o=u.getContext("2d")}function c(d){a=d/5,f=d/25,g=d/25}function E(){const d=a+a/2.5,h=4;o.save();for(let p=0;p<h;p++)o.lineWidth=2,o.rotate(Math.PI/(h/2)),o.beginPath(),o.moveTo(0,0),o.lineTo(d,0),o.closePath(),o.stroke();o.restore()}function b(){const d=a-a/3,h=a+a/3,p=8;o.save();for(let y=0;y<p;y++)y%2!=0&&(o.beginPath(),o.moveTo(d,0),o.lineTo(h,0),o.closePath(),o.stroke()),o.rotate(Math.PI/(p/2));o.restore()}function w(){const d=a-a/3,h=a,p=16;o.save();for(let y=0;y<p;y++)y%2!=0&&(o.beginPath(),o.moveTo(d,0),o.lineTo(h,0),o.closePath(),o.stroke()),o.rotate(Math.PI/(p/2));o.restore()}function S(){const d=a-a/2,h=a+a/2,p=a*2-a/4;o.save(),o.font=`${d}px Arial`,o.textAlign="center",o.textBaseline="bottom",o.fillText("N",0,-h),o.textBaseline="top",o.fillText("S",0,h),o.textBaseline="middle",o.fillText("E",p,0),o.fillText("W",-p,0),o.restore()}function $(){const d=a/4;o.save(),o.shadowOffsetX=f,o.shadowOffsetY=g,o.shadowBlur=4,o.shadowColor=i,o.beginPath(),o.lineWidth=d,o.arc(0,0,a,0,Math.PI*2,!0),o.closePath(),o.stroke(),o.lineWidth=.5,o.strokeStyle=s,o.stroke(),o.restore()}function C(){const d=a/2,h=a/2,p=a/4,y=n,x=s;o.save(),o.rotate(e*Math.PI/180),o.beginPath(),o.moveTo(0,-p),o.lineTo(-d,-h),o.lineTo(0,a),o.lineTo(d,-h),o.closePath(),o.fillStyle=y,o.fill(),o.strokeStyle=x,o.lineWidth=1,o.stroke(),o.restore()}function O(){o.strokeStyle=`${n}cc`,o.fillStyle=`${n}cc`,o.lineWidth=1,o.clearRect(0,0,u.width,u.height),o.translate(u.width/2,u.height/2),u.width>60&&(w(),b(),S(),E()),$(),C()}function k(){const d=u.parentElement;d&&(u.width=d.offsetHeight,u.height=d.offsetHeight,c(u.width),O())}return m(),k(),u.resize=k,u}function ve(e){const t="#fcfcfc",n="#ececec",s="Your browser does not support HTML5 canvas",r="Arial",i="#441414",u=(e-950)*.01;let o,a,f,g,m,c;function E(){m=document.createElement("canvas"),m.textContent=s,m.setAttribute("class","barometer"),c=m.getContext("2d")}function b(d){o=d/10*5.5,a=d/10,f=d*2/3,g=d/5}function w(){return g+o+o*u*-1}function S(){const d=["body","hole"],h=a/3,p=a/3,y=4,x="#22222266";function P(){for(let v=0;v<d.length;v++){c.save();let T=a/2;d[v]==="body"&&(c.shadowOffsetX=h,c.shadowOffsetY=p,c.shadowBlur=y,c.shadowColor=x),d[v]==="hole"&&(c.fillStyle=n,T=T*.618),c.beginPath(),c.arc(f+a/2,g,T,0,Math.PI,!0),c.fill(),c.closePath(),c.restore()}}function B(){let v=a/1.38;const T=g+o+v/1.5;for(let L=0;L<d.length;L++)c.save(),d[L]==="body"&&(c.shadowOffsetX=h,c.shadowOffsetY=p,c.shadowBlur=y,c.shadowColor=x),d[L]==="hole"&&(c.fillStyle=i,v=v*.618),c.beginPath(),c.arc(f+a/2,T,v,0,Math.PI*2,!0),c.fill(),c.closePath(),c.restore()}function _(){for(let v=0;v<d.length;v++){let T=f,L=g,W=a,ge=o;c.save(),d[v]==="body"&&(c.shadowOffsetX=h,c.shadowOffsetY=p,c.shadowBlur=y,c.shadowColor=x),d[v]==="hole"&&(c.fillStyle=n,W=a/2,T=f+a/4),c.fillRect(T,L,W,ge),c.restore()}}function I(){c.save(),c.fillStyle=i,c.fillRect(f+a/3,g+o,a/4,o*u*-1),c.restore()}P(),B(),_(),I()}function $(){const d=a,h=w(),p=f-d/2;c.save(),c.beginPath(),c.moveTo(p,h),c.lineTo(p-d,h),c.stroke(),c.closePath(),c.restore()}function C(){const y=m.height/3,x=y,P=w(),B=P+14;let _=`${e}`;var I="mbar";c.save(),c.textBaseline="middle",m.height>50?(c.font=`12px ${r}`,c.fillText(_,y,P),c.font=`12px ${r}`,c.fillText(I,x,B)):(c.translate(m.width/2,m.height/2),c.rotate(-Math.PI/2),c.font=`12px ${r}`,c.fillText(_,0,-14/2)),c.restore()}function O(){const d=m.parentElement;d&&(m.width=d.offsetHeight,m.height=d.offsetHeight,b(m.height),k())}function k(){c.strokeStyle=t,c.fillStyle=t,c.textAlign="center",c.baseline="bottom",S(),$(),C()}return E(),O(),m.resize=O,m}function l(e,t,...n){const s=document.createElement(e);for(let r in t)s.setAttribute(r,t[r]);return n.forEach(r=>{typeof r=="string"?s.appendChild(document.createTextNode(r)):s.appendChild(r)}),s}function q(e){const t=new Date(e*1e3),n=t.getMinutes().toString().padStart(2,"0");let s,r="AM",i=t.getHours();return i>=12&&(r="PM"),i=i%12,i===0&&(i=12),s=`${i}:${n} ${r}`,s}function A(e,t,n){switch(t){case"Kelvin":return`${parseInt(e*9/5-459.67)}`;case"Celsius":return`${parseInt(e*9/5+32)}`;case"Fahrenheit":break;default:return`${e}`}}function ee(e,t="m/s",n="mph"){return(t="m/s")&&(n="mph")?`${Math.floor(e*2.237)} mph`:`${e} m/s`}function Ee(e,t,n){const s={value:e,units:t};return(t="meters")&&(n="miles")&&(s.value=(e*621371e-9).toFixed(2),s.units=n),s}function be(e){return(e*100).toFixed(0)}function le(e,t,n){const s={value:e,units:"mm"};return(n="inches")&&(s.value=(e*.0393701).toFixed(2),s.units=n),s}function we(e){let t={value:"",class:""};return e<3&&(t.value="low",t.class="low"),e>=3&&e<6&&(t.value="moderate",t.class="moderate"),e>=6&&e<8&&(t.value="high",t.class="high"),e>=8&&e<11&&(t.value="very high",t.class="very-high"),e>=11&&(t.value="extreme",t.class="extreme"),t}const Te="data:image/svg+xml,%3csvg%20class='raindrop'%20aria-labelledby='svg%20raindrop'%20focusable='false'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%20-5%2024%2024'%3e%3cstyle%3e%20.accent%20{%20fill:%20%23fcf4f1;%20animation:%20accent-animation%201.618s%20ease%20alternate%20infinite;%20}%20@keyframes%20accent-animation%20{%20100%25%20{%20fill:%20%236ea0d2;%20}%20}%20.droplet%20{%20fill:%23b7dcff;%20stroke:%20%23fcf4f1;%20stroke-width:%202px;%20animation:%20droplet-animation%201.618s%20ease%20alternate%20infinite;%20}%20@keyframes%20droplet-animation%20{%20100%25%20{%20fill:%20%23fcf4f1;%20}%20}%20%3c/style%3e%3c!--%20%3clink%20xmlns='http://www.w3.org/1999/xhtml'%20rel='stylesheet'%20href='../css/style.css'%20type='text/css'/%3e%20--%3e%3ctitle%3eraindrop%3c/title%3e%3cpath%20class='droplet'%20d='M12.17,10.12C12.38,13.49,10.3,16,8,16s-4.33-2.59-4.18-5.88S8,0,8,0,12,6.88,12.17,10.12Z'%20/%3e%3cpath%20class='accent'%20d='M4.67,11.13a7.58,7.58,0,0,0,1,2.62,3.47,3.47,0,0,0,2,1.25.47.47,0,0,0,.25-.91c-1.62-.41-1.88-1.8-2.26-3.22a.47.47,0,0,0-.91.26Z'%20style='fill:%23fcf4f1'/%3e%3c/svg%3e";function xe(e=[]){const t=l("button",{class:"notice-btn danger"},e[e.length-1].event),n=l("div",{class:"alert"},t),s=l("div",{class:"alert__container scrollbar"});return e.forEach(r=>{const i=F(r.end,{includesTime:!0}),u=F(r.start,{includesTime:!0}),o=l("span",{class:"txt-small"}," through "),a=l("div",{class:"alert__in-effect"},u,o,i),f=l("h5",{},r.sender_name),g=l("p",{},r.description),m=l("header",{class:"danger padding-box"},r.event),c=l("article",{},m,a,f,g);s.appendChild(c)}),n.appendChild(s),n}function Le(e){const t=l("span",{class:"label"},"cloudiness"),n=l("span",{class:"txt-semi-bold"},`${e}`);return l("p",{id:"cloudiness",class:"percent"},t,n)}function F(e,t={}){const{includesTime:n=!1,includesYear:s=!1,includesDay:r=!0}=t,i=e*1e3,u=new Date(i).getFullYear(),o=new Date(i).toDateString().split(" ")[0],a=new Date(i).toDateString().split(" ")[1],f=new Date(i).toDateString().split(" ")[2],g=new Date(e).getTime(),m=l("span",{class:"date-time__hour"},`${q(g)}`),c=l("span",{class:"date-time__year"},`${u}`),E=l("span",{class:"date-time__day-name"},o),b=l("span",{class:"date-time__day"},f);return l("time",{class:"date date-time",title:`${a} ${f}, ${u}`,datetime:new Date(i).toISOString()},E,r?b:"",s?c:"",n?m:"")}function Se(e){const t=A(e,"Kelvin"),n=l("span",{class:"label"},"dew point"),s=l("span",{class:"txt-semi-bold"},`${t}`);return l("p",{id:"dew-point",class:"degree"},n,s)}function $e(e){const t=l("span",{class:"label"},"humidity"),n=l("span",{class:"txt-semi-bold"},`${e}`);return l("p",{id:"humidity",class:"droplet percent"},t,n)}function j(e){const t=ve(e),n=l("div",{class:"flex-center-all pressure"},t);return new ResizeObserver(()=>t.resize()).observe(n),n}function N(e){const t=l("img",{class:"raindroplet",src:Te,alt:"",width:"16",height:"16"});return l("p",{class:"probability-precipitation txt-semi-bold percent"},t,`${be(e)}`)}function V(e,t=!0){let n=e,s;typeof e=="object"&&(n=e["1h"]),s=le(n,"mm","inches");const r=l("span",{class:"label"},"rain"),i=l("span",{class:"units"},s.units),u=l("span",{class:"txt-semi-bold"},s.value);return l("p",{class:"rainfall"},t?r:"",u,i)}function Y(e,t=!0){let n=e,s;typeof e=="object"&&(n=e["1h"]),s=le(n,"mm","inches");const r=l("span",{class:"label"},"snow"),i=l("span",{class:"units"},s.units),u=l("span",{class:"txt-semi-bold"},s.value);return l("p",{class:"snowfall"},t?r:"",u,i)}function Ce(e){const t=l("span",{class:"label"},"sunrise");return l("p",{class:"sunrise"},t,q(e))}function Oe(e){const t=l("span",{class:"label"},"sunset");return l("p",{class:"sunset"},t,q(e))}function ce(e,t){const n="degree";function s(a){return`${A(a,"Kelvin")}`}const r=l("span",{class:"temperature__slash"},"/"),i=l("span",{class:`${n} feels-like`,title:`Feels like ${s(t)}`},`${s(t)}`),u=l("span",{class:`${n} actual`,title:`Actual temperature ${s(e)}`},`${s(e)}`);return l("p",{class:"temperature temperature__paragraph"},u,r,i)}function ae(e,t){if(typeof e=="object"||typeof t=="object"){console.error("WeatherData objects are not allowed, use DailyTemperature() instead");return}return ce(e,t)}function ue(e){const{temp:t,feels_like:n}=e;if(typeof t!="object"||typeof n!="object"){console.error("WeatherData objects are required, use createTemperatureElement() instead");return}const s=[{name:"morning",value:"morn"},{name:"day",value:"day"},{name:"evening",value:"eve"},{name:"night",value:"night"}],r=[];return s.forEach(u=>{const o=l("span",{class:"label"},u.name),a=l("div",{class:"daily-temp"},o,l("div",{},ce(t[u.value],n[u.value])));r.push(a)}),l("div",{class:"temperature-list"},r[0],r[1],r[2],r[3])}function de(e){const t="degree",n=l("span",{class:"label"},"high/low"),s=l("span",{class:`${t} value temperature__min`},`/${A(e.min,"Kelvin")}`),r=l("span",{class:`${t} value`},`${A(e.max,"Kelvin")}`);return l("p",{class:"high-low"},n,r,s)}function U(e){const t=l("span",{class:"label"},"uv"),n=l("span",{class:"value"},`${e}`),s=l("p",{class:"uvi__index"},t,n),r=we(e),i=l("span",{class:"label"},"UV risk"),u=l("span",{class:"value"},`${r.value}`),o=l("p",{class:`uvi__risk ${r.class}`},i,u);return l("div",{class:"uvi"},s,o)}function ke(e){const t=Ee(e,"meters","miles"),n=l("span",{class:"label"},"visibility"),s=l("span",{class:"value"},t.value),r=l("span",{class:"units"},t.units);return l("p",{class:"visibility"},n,s,r)}function K(e){return l("p",{class:"description description-text txt-center"},`${e}`)}function z(e,t="default"){const{icon:n,main:s,description:r}=e;let i="",u="50";t==="large"&&(i="@2x",u="100");let o=`https://openweathermap.org/img/wn/${n}${i}.png`;const a=`${s}: ${r}`;return l("div",{class:"icon-container",title:a},l("img",{class:"icon",src:o,alt:a,width:u,height:u}))}function Z(e,t){const n=document.createElement("div"),s=document.createElement("p");return s.textContent=`${e}`,s.setAttribute("title",`${t}`),n.setAttribute("class","main"),n.appendChild(s),n}function G(e,t,n){const s=`${ee(n,"m/s","mph")}`;let r="";t!=null&&(r=`, gusts to ${ee(t,"m/s","mph")}`);const i=ye(e),u=l("span",{},r),o=l("p",{class:"speed"},s,u),a=l("div",{class:"wind"},i,o);return new ResizeObserver(()=>i.resize()).observe(a),a}const te={result:null,convertToOpacity(e){return this.result=(e/60).toFixed(2),this},invert(){return this.result=1-this.result,this}};function ne(e){return e.getMinutes()}function D(e){return 60-e}function Pe(e,t){const n=D(e),s=D(t);return n-s}function Q(e,t){const n=new Date(e);return n.setHours(n.getHours()-t),n}function _e(e,t){const n=Q(t,1);return e>n&&e<t}function Me(e,t){const n=Q(t,1);return e>n&&e<t}function Be(e,t,n){const s=Q(n,1);return e>t&&e<s}function Ie(e,t){return t?te.convertToOpacity(e).invert().result:te.convertToOpacity(e).result}function se(e,t,n=!1){const s=ne(e),r=ne(t);let i=r+D(s);return r>s&&(i=Pe(s,r)),Ie(i,n)}function M(e){return new Date(e*1e3)}function me(e){const{dt:t,sunrise:n,sunset:s}=e,r=M(t),i=M(n),u=M(s);let o=0;return Be(r,i,u)&&(o=1),_e(r,i)&&(o=se(i,r)),Me(r,u)&&(o=se(u,r,!0)),o}function Fe(e,t){const n=M(e.dt),s=M(t.current.sunrise),r=M(t.current.sunset);for(;s.getDate()<n.getDate();)s.setDate(s.getDate()+1),r.setDate(r.getDate()+1);return{dt:n.getTime()/1e3,sunrise:s.getTime()/1e3,sunset:r.getTime()/1e3}}const We=document.querySelectorAll(".forecast-container");let H=!1,oe,re;for(const e of We)e.addEventListener("mousedown",t=>{H=!0,e.classList.add("active"),oe=t.pageX-e.offsetLeft,re=e.scrollLeft}),e.addEventListener("mouseleave",()=>{H=!1,e.classList.remove("active")}),e.addEventListener("mouseup",()=>{H=!1,e.classList.remove("active")}),e.addEventListener("mousemove",t=>{if(!H)return;t.preventDefault();const s=(t.pageX-e.offsetLeft-oe)*3;e.scrollLeft=re-s});const He=document.getElementById("today-btn");He.addEventListener("click",J);const Ae=document.getElementById("hourly-btn");Ae.addEventListener("click",J);const Ve=document.getElementById("daily-btn");Ve.addEventListener("click",J);function J(e){const t=e.target,n=document.querySelectorAll(".display-feature"),s=document.querySelectorAll(".display-btn");function r(){s.forEach(i=>{i.name===t.name?t.classList.add("active"):i.classList.remove("active")})}n.forEach(i=>{i.id===t.name?(i.classList.add("display"),r()):i.classList.remove("display")})}const R=document.getElementById("scroll-left"),X=document.getElementById("scroll-right"),Ye=document.getElementById("forecast-feature__container");let fe;R.addEventListener("mousedown",pe);X.addEventListener("mousedown",pe);Ye.addEventListener("mouseup",e=>{clearInterval(fe),ze()});function pe(e){const t=document.querySelector(".display-feature.display > .forecast-container"),s=t.querySelector(".card").offsetWidth;function r(){e.target.id==="scroll-left"?t.scrollLeft-=s:t.scrollLeft+=s}r(),fe=setInterval(r,600)}function ze(){const e=document.querySelector(".display-feature.display > .forecast-container");e.scrollLeft===0?R.classList.add("noscroll"):R.classList.remove("noscroll"),e.scrollLeft+e.clientWidth===e.scrollWidth?X.classList.add("noscroll"):X.classList.remove("noscroll")}const De="https://api.elliotreed.net/weatherton",Re=document.documentElement,he=document.getElementById("app-container");async function Xe(){ie(),setInterval(()=>{getCurrentWeather(),ie()},10*60*1e3)}async function ie(){const e=await je();Ze(e)}function qe(){return new Promise(function(e,t){navigator.geolocation?navigator.geolocation.getCurrentPosition(e,t):he.innerText="Geolocation is not supported by this browser"})}async function je(){const e=await qe(),t=Ne(e),n=Ue(t);return Ke(n)}function Ne(e){const t=e.coords.latitude,n=e.coords.longitude;return`lat=${t}&lon=${n}`}function Ue(e){return`${De}/?${e}`}function Ke(e){return fetch(e).then(n=>n.json()).then(n=>n).catch(n=>{he.innerText=n.message})}function Ze(e){return Ge(e.alerts),Qe(e.current),tt(e.daily[0]),Je(e),et(e.daily),Re.style.setProperty("--dayBackgroundOpacity",me({dt:e.current.dt,sunrise:e.current.sunrise,sunset:e.current.sunset})),!0}function Ge(e){const t=`
    background:  #6ea0d2;
    color: #fcf4f1;
  `;if(!e){console.log("%c There are no weather alerts in this area.",t);return}const n=document.getElementById("alert"),s=xe(e);n.innerHTML="",n.appendChild(s)}function Qe(e){const{clouds:t,dew_point:n,dt:s,feels_like:r,humidity:i,pressure:u,rain:o,snow:a,sunrise:f,sunset:g,temp:m,uvi:c,visibility:E,weather:b,wind_deg:w,wind_speed:S}=e,$=document.getElementById("current-weather__container");let C=b[0];const O=Le(t),k=F(s,{includesYear:!0,includesTime:!0}),d=K(C.description),h=Se(n),p=$e(i),y=z(C,"large"),x=j(u),P=V(o),B=Y(a),_=Ce(f),I=Oe(g),v=ae(m,r),T=ke(E),L=G(w,null,S),W=U(c);$.innerHTML="",$.append(k,y,v,d,e.snow!=null?B:"",e.rain!=null?P:"",x,L,O,T,p,h,W,_,I)}function Je(e){const t=document.getElementById("hourly-weather__container"),n=e.hourly;t.innerHTML="",n.map(s=>{const r=s.weather[0],i=F(s.dt,{includesTime:!0,includesDay:!1}),u=N(s.pop),o=V(s.rain),a=Y(s.snow),f=z(r),g=ae(s.temp,s.feels_like);Z(r.main,r.description),K(r.description);const m=G(s.wind_deg,s.wind_speed,s.wind_gust);j(s.pressure);const c=U(s.uvi),E=l("div",{class:"card"},i,f,g,u,s.snow!=null?a:"",s.rain!=null?o:"",m,c),b=Fe(s,e),w=me(b),S=`linear-gradient(to top, rgb(110 160 210 / ${w}), rgb(160 193 224 / ${w}))`;E.style.background=S,t.appendChild(E)})}function et(e){const t=document.getElementById("daily-weather__container");t.innerHTML="",e.map(n=>{const s=n.weather[0],r=F(n.dt),i=de(n.temp),u=V(n.rain),o=Y(n.snow),a=N(n.pop),f=ue(n);Z(s.main,s.descriptions);const g=U(n.uvi),m=K(s.description),c=z(s),E=G(n.wind_deg,n.wind_gust,n.wind_speed);j(n.pressure);const b=l("div",{class:"card daily-forecast"},r,c,m,i,n.rain!=null?u:"",n.snow!=null?o:"",a,f,E,g);t.appendChild(b)})}function tt(e){const t=document.getElementById("today-weather__container"),n=e.weather[0],s=z(n),r=N(e.pop),i=V(e.rain),u=Y(e.snow),o=ue(e),a=Z(n.main,n.description),f=de(e.temp),g=l("div",{class:"card today-forecast"},s,f,a,r,e.rain!=null?i:"",e.snow!=null?u:"",o);t.innerHTML="",t.appendChild(g)}Xe();function nt(){document.querySelector(".alert__container").classList.toggle("display")}function st(){const e=document.querySelector(".alert__container");e&&e.classList.remove("display")}document.addEventListener("click",e=>{if(e.target.classList.contains("notice-btn")){nt();return}st()});
