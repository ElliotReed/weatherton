(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function pe(e,t=50){const n="Your browser does not support HTML5 Canvas.",s="#FCF4F1",r="#444444",i=t/2,a=document.createElement("canvas"),u=t/5,o=a.getContext("2d"),l=t/25,g=t/25,y=4,v=`${r}66`;a.textContent=n,a.setAttribute("class","compass"),a.setAttribute("width",t),a.setAttribute("height",t),o.translate(i,i),o.strokeStyle=`${s}cc`,o.fillStyle=`${s}cc`,o.lineWidth=1;function w(){const d=u+u/2.5,m=4;o.save();for(let f=0;f<m;f++)o.lineWidth=2,o.rotate(Math.PI/(m/2)),o.beginPath(),o.moveTo(0,0),o.lineTo(d,0),o.closePath(),o.stroke();o.restore()}function b(){const d=u-u/3,m=u+u/3,f=8;o.save();for(let h=0;h<f;h++)h%2!=0&&(o.beginPath(),o.moveTo(d,0),o.lineTo(m,0),o.closePath(),o.stroke()),o.rotate(Math.PI/(f/2));o.restore()}function x(){const d=u-u/3,m=u,f=16;o.save();for(let h=0;h<f;h++)h%2!=0&&(o.beginPath(),o.moveTo(d,0),o.lineTo(m,0),o.closePath(),o.stroke()),o.rotate(Math.PI/(f/2));o.restore()}function T(){const d=u-u/2,m=u+u/2,f=u*2-u/4;o.save(),o.font=`${d}px Arial`,o.textAlign="center",o.textBaseline="bottom",o.fillText("N",0,-m),o.textBaseline="top",o.fillText("S",0,m),o.textBaseline="middle",o.fillText("E",f,0),o.fillText("W",-f,0),o.restore()}function P(){const d=u/4;o.save(),o.shadowOffsetX=l,o.shadowOffsetY=g,o.shadowBlur=y,o.shadowColor=v,o.beginPath(),o.lineWidth=d,o.arc(0,0,u,0,Math.PI*2,!0),o.closePath(),o.stroke(),o.lineWidth=.5,o.strokeStyle=r,o.stroke(),o.restore()}function p(){const d=u/2,m=u/2,f=u/4,h=s,$=r;o.save(),o.rotate(e*Math.PI/180),o.beginPath(),o.moveTo(0,-f),o.lineTo(-d,-m),o.lineTo(0,u),o.lineTo(d,-m),o.closePath(),o.fillStyle=h,o.fill(),o.strokeStyle=$,o.lineWidth=1,o.stroke(),o.restore()}return t>50&&(x(),b(),T(),w()),P(),p(),a}function he(e,t=50){const n="#fcfcfc",s="#ececec",r=t/10*5.5,i=t/10,a=t*2/3,u=t/5,o=document.createElement("canvas"),l=o.getContext("2d"),g="Your browser does not support HTML5 canvas",y="Arial",v="#441414",w=(e-950)*.01;o.textContent=g,o.setAttribute("class","barometer"),o.setAttribute("width",t),o.setAttribute("height",t),l.strokeStyle=n,l.fillStyle=n,l.textAlign="center",l.baseline="bottom";function b(){return u+r+r*w*-1}function x(){const p=["body","hole"],d=i/3,m=i/3,f=4,h="#22222266";function $(){for(let E=0;E<p.length;E++){l.save();let L=i/2;p[E]==="body"&&(l.shadowOffsetX=d,l.shadowOffsetY=m,l.shadowBlur=f,l.shadowColor=h),p[E]==="hole"&&(l.fillStyle=s,L=L*.618),l.beginPath(),l.arc(a+i/2,u,L,0,Math.PI,!0),l.fill(),l.closePath(),l.restore()}}function _(){let E=i/1.38;const L=u+r+E/1.5;for(let C=0;C<p.length;C++)l.save(),p[C]==="body"&&(l.shadowOffsetX=d,l.shadowOffsetY=m,l.shadowBlur=f,l.shadowColor=h),p[C]==="hole"&&(l.fillStyle=v,E=E*.618),l.beginPath(),l.arc(a+i/2,L,E,0,Math.PI*2,!0),l.fill(),l.closePath(),l.restore()}function k(){for(let E=0;E<p.length;E++){let L=a,C=u,Q=i,fe=r;l.save(),p[E]==="body"&&(l.shadowOffsetX=d,l.shadowOffsetY=m,l.shadowBlur=f,l.shadowColor=h),p[E]==="hole"&&(l.fillStyle=s,Q=i/2,L=a+i/4),l.fillRect(L,C,Q,fe),l.restore()}}function O(){l.save(),l.fillStyle=v,l.fillRect(a+i/3,u+r,i/4,r*w*-1),l.restore()}$(),_(),k(),O()}function T(){const p=i,d=b(),m=a-p/2;l.save(),l.beginPath(),l.moveTo(m,d),l.lineTo(m-p,d),l.stroke(),l.closePath(),l.restore()}function P(){const f=t/3,h=f,$=b(),_=$+14;let k=`${e}`;var O="mbar";l.save(),l.textBaseline="middle",t>50?(l.font=`${12}px ${y}`,l.fillText(k,f,$),l.font=`${12}px ${y}`,l.fillText(O,h,_)):(l.translate(t/2,t/2),l.rotate(-Math.PI/2),l.font=`${12}px ${y}`,l.fillText(k,0,-14/2)),l.restore()}return x(),T(),P(),o}function c(e,t,...n){const s=document.createElement(e);for(let r in t)s.setAttribute(r,t[r]);return n.forEach(r=>{typeof r=="string"?s.appendChild(document.createTextNode(r)):s.appendChild(r)}),s}function V(e){const t=new Date(e*1e3),n=t.getMinutes().toString().padStart(2,"0");let s,r="AM",i=t.getHours();return i>=12&&(r="PM"),i=i%12,i===0&&(i=12),s=`${i}:${n} ${r}`,s}function S(e,t,n){if(t===n)return e;switch(t){case"Kelvin":if(n==="Fahrenheit")return`${parseInt(e*9/5-459.67)}`;if(n==="Celsius")return`${parseInt(e-273.15)}`;case"Celsius":if(n==="Fahrenheit")return`${parseInt(e*9/5+32)}`;if(n==="Kelvin")return`${parseInt(e+273.15)}`;case"Fahrenheit":if(n==="Kelvin")return`${parseInt((e+459.67)*9/5)}`;if(n==="Celsius")return`${parseInt((e-32)*9/5)}`;break;default:return`${e}`}}function J(e,t="m/s",n="mph"){return(t="m/s")&&(n="mph")?`${Math.floor(e*2.237)} mph`:`${e} m/s`}function ge(e,t,n){const s={value:e,units:t};return(t="meters")&&(n="miles")&&(s.value=(e*621371e-9).toFixed(2),s.units=n),s}function ye(e){return(e*100).toFixed(0)}function oe(e,t,n){const s={value:e,units:"mm"};return(n="inches")&&(s.value=(e*.0393701).toFixed(2),s.units=n),s}function Ee(e){let t={value:"",class:""};return e<3&&(t.value="low",t.class="low"),e>=3&&e<6&&(t.value="moderate",t.class="moderate"),e>=6&&e<8&&(t.value="high",t.class="high"),e>=8&&e<11&&(t.value="very high",t.class="very-high"),e>=11&&(t.value="extreme",t.class="extreme"),t}const ve="/weatherton/assets/raindrop-69b2cc51.svg";function be(e=[]){const t=c("button",{class:"notice-btn danger"},e[e.length-1].event),n=c("div",{class:"alert"},t),s=c("div",{class:"alert__container scrollbar"});return e.forEach(r=>{console.warn(r);const i=I(r.end,{includesTime:!0}),a=I(r.start,{includesTime:!0}),u=c("span",{class:"txt-small"}," through "),o=c("div",{class:"alert__in-effect"},a,u,i),l=c("h5",{},r.sender_name),g=c("p",{},r.description),y=c("header",{class:"danger padding-box"},r.event),v=c("article",{},y,o,l,g);s.appendChild(v)}),n.appendChild(s),n}function we(e){const t=c("span",{class:"label"},"cloudiness"),n=c("span",{class:"txt-semi-bold"},`${e}`);return c("p",{id:"cloudiness",class:"percent"},t,n)}function I(e,t={}){const{includesTime:n=!1,includesYear:s=!1,includesDay:r=!0}=t,i=e*1e3,a=new Date(i).getFullYear(),u=new Date(i).toDateString().split(" ")[0],o=new Date(i).toDateString().split(" ")[1],l=new Date(i).toDateString().split(" ")[2],g=new Date(e).getTime(),y=c("span",{class:"date-time__hour"},`${V(g)}`),v=c("span",{class:"date-time__year"},`${a}`),w=c("span",{class:"date-time__day-name"},u),b=c("span",{class:"date-time__day"},l);return c("time",{class:"date date-time",title:`${o} ${l}, ${a}`,datetime:`${o} ${l}, ${a}`},w,r?b:"",s?v:"",n?y:"")}function Te(e){const t=S(e,"Kelvin","Fahrenheit"),n=c("span",{class:"label"},"dew point"),s=c("span",{class:"txt-semi-bold"},`${t}`);return c("p",{id:"dew-point",class:"degree"},n,s)}function xe(e){const t=c("span",{class:"label"},"humidity"),n=c("span",{class:"txt-semi-bold"},`${e}`);return c("p",{id:"humidity",class:"droplet percent"},t,n)}function X(e,t=50){const n=he(e,t);return c("div",{id:"pressure",class:"flex-center-all"},n)}function q(e){const t=c("img",{class:"raindroplet",src:ve,alt:"",width:"16",height:"16"});return c("p",{id:"probability-precipitation",class:"txt-semi-bold percent"},t,`${ye(e)}`)}function B(e,t=!0){let n=e,s;typeof e=="object"&&(n=e["1h"]),s=oe(n,"mm","inches");const r=c("span",{class:"label"},"rain"),i=c("span",{class:"units"},s.units),a=c("span",{class:"txt-semi-bold"},s.value);return c("p",{id:"rainfall",class:""},t?r:"",a,i)}function F(e,t=!0){let n=e,s;typeof e=="object"&&(n=e["1h"]),s=oe(n,"mm","inches");const r=c("span",{class:"label"},"snow"),i=c("span",{class:"units"},s.units),a=c("span",{class:"txt-semi-bold"},s.value);return c("p",{id:"snowfall",class:""},t?r:"",a,i)}function $e(e){const t=c("span",{class:"label"},"sunrise");return c("p",{class:"sunrise"},t,V(e))}function Le(e){const t=c("span",{class:"label"},"sunset");return c("p",{class:"sunset"},t,V(e))}function re(e,t){const n="degree";function s(o){return`${S(o,"Kelvin","Fahrenheit")}`}const r=c("span",{class:"temperature__slash"},"/"),i=c("span",{class:`${n} feels-like`,title:`Feels like ${s(t)}`},`${s(t)}`),a=c("span",{class:`${n} actual`,title:`Actual temperature ${s(e)}`},`${s(e)}`);return c("p",{class:"temperature temperature__paragraph"},a,r,i)}function ie(e){const{temp:t,feels_like:n}=e;if(typeof t=="object"||typeof n=="object"){console.error("WeatherData objects are not allowed, use DailyTemperature() instead");return}return re(t,n)}function le(e){const{temp:t,feels_like:n}=e;if(typeof t!="object"||typeof n!="object"){console.error("WeatherData objects are required, use createTemperatureElement() instead");return}const s=[{name:"morning",value:"morn"},{name:"day",value:"day"},{name:"evening",value:"eve"},{name:"night",value:"night"}],r=[];return s.forEach(a=>{const u=c("span",{class:"label"},a.name),o=c("p",{class:"daily-temp"},u,c("span",{},re(t[a.value],n[a.value])));r.push(o)}),c("div",{class:"temperature-list"},r[0],r[1],r[2],r[3])}function ce(e){const t="degree",n=c("span",{class:"label"},"high/low"),s=c("span",{class:`${t} value temperature__min`},`/${S(e.min,"Kelvin","Fahrenheit")}`),r=c("span",{class:`${t} value`},`${S(e.max,"Kelvin","Fahrenheit")}`);return c("p",{class:"high-low"},n,r,s)}function R(e){const t=c("span",{class:"label"},"uv"),n=c("span",{class:"value"},`${e}`),s=c("p",{class:"uvi__index"},t,n),r=Ee(e),i=c("span",{class:"label"},"UV risk"),a=c("span",{class:"value"},`${r.value}`),u=c("p",{class:`uvi__risk ${r.class}`},i,a);return c("div",{class:"uvi"},s,u)}function Pe(e){const t=ge(e,"meters","miles"),n=c("span",{class:"label"},"visibility"),s=c("span",{class:"value"},t.value),r=c("span",{class:"units"},t.units);return c("p",{class:"visibility"},n,s,r)}function N(e){return c("p",{class:"description description-text txt-center"},`${e}`)}function W(e,t="default"){const{icon:n,main:s,description:r}=e;let i="",a="50px";t==="large"&&(i="@2x",a="100px");let u=`https://openweathermap.org/img/wn/${n}${i}.png`;const o=`${s}: ${r}`;return c("div",{class:"icon-container",title:o},c("img",{class:"icon",src:u,alt:o,width:a,height:a}))}function j(e,t){const n=document.createElement("div"),s=document.createElement("p");return s.textContent=`${e}`,s.setAttribute("title",`${t}`),n.setAttribute("class","main"),n.appendChild(s),n}function K(e,t){const{wind_deg:n,wind_gust:s,wind_speed:r}=e,i=`${J(r,"m/s","mph")}`;let a="";s!=null&&(a=`, gusts to ${J(s,"m/s","mph")}`);const u=pe(n,t),o=c("span",{},a),l=c("p",{class:"speed"},i,o);return c("div",{class:"wind"},u,l)}const Z={result:null,convertToOpacity(e){return this.result=(e/60).toFixed(2),this},invert(){return this.result=1-this.result,this}};function z(e){return e.getMinutes()}function D(e){return 60-e}function ke(e,t){const n=D(e),s=D(t);return n-s}function U(e,t){const n=new Date(e);return n.setHours(n.getHours()-t),n}function Ce(e,t){const n=U(t,1);return e>n&&e<t}function _e(e,t){const n=U(t,1);return e>n&&e<t}function Oe(e,t,n){const s=U(n,1);return e>t&&e<s}function Ie(e,t){return t?Z.convertToOpacity(e).invert().result:Z.convertToOpacity(e).result}function ee(e,t,n=!1){const s=z(e),r=z(t);let i=r+D(s);return r>s&&(i=ke(s,r)),Ie(i,n)}function A(e){return new Date(e*1e3)}function ae(e){console.log("weatherData: ",e);const{dt:t,sunrise:n,sunset:s}=e,r=A(t),i=A(n),a=A(s);console.log("currentDate: ",r),console.log("sunsetDate: ",a);let u=0;return Oe(r,i,a)&&(u=1),Ce(r,i)&&(u=ee(i,r)),_e(r,a)&&(u=ee(a,r,!0)),u}const Me=document.querySelectorAll(".forecast-container");let M=!1,te,ne;for(const e of Me)e.addEventListener("mousedown",t=>{M=!0,e.classList.add("active"),te=t.pageX-e.offsetLeft,ne=e.scrollLeft}),e.addEventListener("mouseleave",()=>{M=!1,e.classList.remove("active")}),e.addEventListener("mouseup",()=>{M=!1,e.classList.remove("active")}),e.addEventListener("mousemove",t=>{if(!M)return;t.preventDefault();const s=(t.pageX-e.offsetLeft-te)*3;e.scrollLeft=ne-s});const Se=document.getElementById("today-btn");Se.addEventListener("click",G);const Be=document.getElementById("hourly-btn");Be.addEventListener("click",G);const Fe=document.getElementById("daily-btn");Fe.addEventListener("click",G);function G(e){const t=e.target,n=document.querySelectorAll(".display-feature"),s=document.querySelectorAll(".display-btn");function r(){s.forEach(i=>{i.name===t.name?t.classList.add("active"):i.classList.remove("active")})}n.forEach(i=>{i.id===t.name?(i.classList.add("display"),r()):i.classList.remove("display")})}const Y=document.getElementById("scroll-left"),H=document.getElementById("scroll-right"),We=document.getElementById("forecast-feature__container");let ue;Y.addEventListener("mousedown",de);H.addEventListener("mousedown",de);We.addEventListener("mouseup",e=>{clearInterval(ue),Ae()});function de(e){const t=document.querySelector(".display-feature.display > .forecast-container"),s=t.querySelector(".card").offsetWidth;function r(){e.target.id==="scroll-left"?t.scrollLeft-=s:t.scrollLeft+=s}r(),ue=setInterval(r,600)}function Ae(){const e=document.querySelector(".display-feature.display > .forecast-container");e.scrollLeft===0?Y.classList.add("noscroll"):Y.classList.remove("noscroll"),e.scrollLeft+e.clientWidth===e.scrollWidth?H.classList.add("noscroll"):H.classList.remove("noscroll")}const De="6cf9b9c5b948a69676088ed828c5535d",Ye="api.openweathermap.org/data/2.5",He=document.documentElement,me=document.getElementById("app-container");function Ve(){se(),setInterval(()=>{se()},10*60*1e3)}async function se(){const e=await qe();Ke(e)}function Xe(){return new Promise(function(e,t){navigator.geolocation?navigator.geolocation.getCurrentPosition(e,t):me.innerText="Geolocation is not supported by this browser"})}async function qe(){const e=await Xe(),t=Re(e),n=Ne(t);return je(n)}function Re(e){const t=e.coords.latitude,n=e.coords.longitude;return`lat=${t}&lon=${n}`}function Ne(e){return`${Ye}/onecall?${e}&appid=${De}`}function je(e){return fetch(`https://${e}`).then(n=>n.json()).then(n=>n).catch(n=>{me.innerText=n.message})}function Ke(e){return Ue(e.alerts),Ge(e.current),Ze(e.daily[0]),Qe(e),Je(e.daily),He.style.setProperty("--dayBackgroundOpacity",ae(e.current)),!0}function Ue(e){const t=`
    background:  #6ea0d2;
    color: #fcf4f1;
  `;if(!e){console.log("%c There are no weather alerts in this area.",t);return}const n=document.getElementById("alert"),s=be(e);n.innerHTML="",n.appendChild(s)}function Ge(e){const{clouds:t,dew_point:n,dt:s,humidity:r,rain:i,snow:a,sunrise:u,sunset:o,uvi:l,weather:g}=e,y=document.getElementById("current-weather__container");let v=g[0];const w=we(t),b=I(s,{includesYear:!0,includesTime:!0}),x=N(v.description),T=Te(n),P=xe(r),p=W(v,"large"),d=X(e.pressure,76),m=B(i),f=F(a),h=$e(u),$=Le(o),_=ie(e),k=Pe(e.visibility),O=K(e,76),E=R(l);y.innerHTML="",y.append(b,p,_,x,e.snow!=null?f:"",e.rain!=null?m:"",d,O,w,k,P,T,E,h,$)}function Qe(e){const t=document.getElementById("hourly-weather__container"),n=e.hourly;t.innerHTML="",n.map(s=>{const r=s.weather[0],i=I(s.dt,{includesTime:!0,includesDay:!1}),a=q(s.pop),u=B(s.rain),o=F(s.snow),l=W(r),g=ie(s);j(r.main,r.description),N(r.description);const y=K(s);X(s.pressure);const v=R(s.uvi),w=c("div",{class:"card"},i,l,g,a,s.snow!=null?o:"",s.rain!=null?u:"",y,v),b=new Date(s.dt*1e3),x=new Date(e.current.sunset*1e3),T=new Date(e.current.sunrise*1e3);for(console.log("forecastDate: ",b),console.log("sunriseDate: ",T);T.getDate()<b.getDate();)T.setDate(T.getDate()+1),x.setDate(x.getDate()+1),console.log("less",T);const P={dt:b.getTime()/1e3,sunrise:T.getTime()/1e3,sunset:x.getTime()/1e3},p=ae(P),d=`linear-gradient(to top, rgb(110 160 210 / ${p}), rgb(160 193 224 / ${p}))`;console.log("hourOpacity: ",p),w.style.background=d,t.appendChild(w)})}function Je(e){const t=document.getElementById("daily-weather__container");t.innerHTML="",e.map(n=>{const s=n.weather[0],r=I(n.dt),i=ce(n.temp),a=B(n.rain),u=F(n.snow),o=q(n.pop),l=le(n);j(s.main,s.descriptions);const g=R(n.uvi),y=N(s.description),v=W(s),w=K(n);X(n.pressure,60);const b=c("div",{class:"card daily-forecast"},r,v,y,i,n.rain!=null?a:"",n.snow!=null?u:"",o,l,w,g);t.appendChild(b)})}function Ze(e){const t=document.getElementById("today-weather__container"),n=e.weather[0],s=W(n),r=q(e.pop),i=B(e.rain),a=F(e.snow),u=le(e),o=j(n.main,n.description),l=ce(e.temp),g=c("div",{class:"card today-forecast"},s,l,o,r,e.rain!=null?i:"",e.snow!=null?a:"",u);t.innerHTML="",t.appendChild(g)}Ve();function ze(){document.querySelector(".alert__container").classList.toggle("display")}function et(){const e=document.querySelector(".alert__container");e&&e.classList.remove("display")}document.addEventListener("click",e=>{if(e.target.classList.contains("notice-btn")){ze();return}et()});
